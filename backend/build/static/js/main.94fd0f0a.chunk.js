(this.webpackJsonpProductPro=this.webpackJsonpProductPro||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(23),s=n.n(a),u=(n(50),n(51),n(72),n(6)),l=n(3),o=n(8),i=n(7),d=n.n(i),j=n(9);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var f=Object(j.c)("counter/fetchCount",function(){var e=Object(o.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(j.d)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(f.pending,(function(e){e.status="loading"})).addCase(f.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),p=m.actions,O=p.increment,h=p.decrement,g=p.incrementByAmount,v=function(e){return e.counter.value},x=m.reducer,y=n(18),w=n.n(y),N=n(0);function S(){var e=Object(l.d)(v),t=Object(l.c)(),n=Object(r.useState)("2"),c=Object(u.a)(n,2),a=c[0],s=c[1],o=Number(a)||0;return Object(N.jsxs)("div",{children:[Object(N.jsxs)("div",{className:w.a.row,children:[Object(N.jsx)("button",{className:w.a.button,"aria-label":"Decrement value",onClick:function(){return t(h())},children:"-"}),Object(N.jsx)("span",{className:w.a.value,children:e}),Object(N.jsx)("button",{className:w.a.button,"aria-label":"Increment value",onClick:function(){return t(O())},children:"+"})]}),Object(N.jsxs)("div",{className:w.a.row,children:[Object(N.jsx)("input",{className:w.a.textbox,"aria-label":"Set increment amount",value:a,onChange:function(e){return s(e.target.value)}}),Object(N.jsx)("button",{className:w.a.button,onClick:function(){return t(g(o))},children:"Add Amount"}),Object(N.jsx)("button",{className:w.a.asyncButton,onClick:function(){return t(f(o))},children:"Add Async"}),Object(N.jsx)("button",{className:w.a.button,onClick:function(){return t((e=o,function(t,n){v(n())%2===1&&t(g(e))}));var e},children:"Add If Odd"})]})]})}n(78);var C=n(10),P=n(2),E=n(11),k=n.n(E),D=function(e){return k.a.get("http://localhost:5000/products/".concat(e))},U=function(e){return k.a.get("http://localhost:5000/products/".concat(e,"/details"))},F=function(e,t){return k.a.post("http://localhost:5000/products",e,t)},L=function(e,t){return k.a.put("http://localhost:5000/products",e,t)},A=function(e,t){return k.a.delete("http://localhost:5000/products/".concat(e),t)},T=Object(j.c)("products/getProducts",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,k.a.get("http://localhost:5000/products");case 4:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),_=Object(j.b)("products/lastUpdate"),I=Object(j.c)("products/getSample",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,console.log("iutgl"),k.a.get("http://localhost:5000/sample");case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),R=Object(j.c)("products/getDetails",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,U(t);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),q=Object(j.c)("products/getSearchResults",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,D(t);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),W=Object(j.c)("products/addProduct",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.rejectWithValue,e.prev=1,e.next=4,F(t,r().user.auth);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),B=Object(j.c)("products/editProduct",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.rejectWithValue,e.prev=1,e.next=4,L(t,r().user.auth);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),V=Object(j.c)("products/removeProduct",function(){var e=Object(o.a)(d.a.mark((function e(t,n){var r,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.rejectWithValue,e.prev=1,e.next=4,A(t,r().user.auth);case 4:return a=e.sent,e.abrupt("return",a.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),$=Object(j.d)({name:"products",initialState:{products:null,sample:null,productDetails:null,searchProducts:null,addedProduct:null,editedProduct:null,reload:!1,lastUpdate:Date.now(),home:{status:"idle",errors:null},details:{status:"idle",errors:null},search:{status:"idle",errors:null},addProduct:{status:"idle",errors:null},edit:{status:"idle",errors:null},delete:{status:"idle",errors:null},fetchAll:!1},reducers:{unmountAdd:function(e){e.addProduct={status:"idle",errors:null},e.addedProduct=null},unmountDelete:function(e){e.delete={status:"idle",errors:null}},unmountEdit:function(e){e.details={status:"idle",errors:null},e.productDetails=null,e.edit={status:"idle",errors:null},e.editedProduct=null},unmountHome:function(e){e.home={status:"idle",errors:null},e.sample=null},unmountDetails:function(e){e.details={status:"idle",errors:null},e.productDetails=null},unmountSearch:function(e){e.search={status:"idle",errors:null},e.searchProducts=null},setReload:function(e){e.reload=!e.reload}},extraReducers:function(e){e.addCase(T.pending,(function(e){e.home.status="loading",e.home.errors=null})).addCase(T.fulfilled,(function(e,t){e.home.status="success",e.products=t.payload.data,e.home.errors=null})).addCase(T.rejected,(function(e,t){e.home.status="failed",e.home.errors=t.error})).addCase(I.pending,(function(e){e.home.status="loading",e.home.errors=null})).addCase(I.fulfilled,(function(e,t){e.home.status="success",e.sample=t.payload.data,e.home.errors=null})).addCase(I.rejected,(function(e,t){e.home.status="failed",e.home.errors=t.error})).addCase(R.pending,(function(e){e.details.status="loading",e.details.errors=null})).addCase(R.fulfilled,(function(e,t){e.details.status="success",e.productDetails=t.payload.data,e.details.errors=null})).addCase(R.rejected,(function(e,t){e.details.status="failed",e.details.errors=t.error})).addCase(q.pending,(function(e){e.search.status="loading",e.search.errors=null})).addCase(q.fulfilled,(function(e,t){e.search.status="success",e.searchProducts=t.payload.data,e.search.errors=null})).addCase(q.rejected,(function(e,t){e.search.status="failed",e.search.errors=t.error})).addCase(W.pending,(function(e){e.addProduct.status="loading",e.addProduct.errors=null})).addCase(W.fulfilled,(function(e,t){e.addProduct.status="success",e.addedProduct=t.payload.product,e.addProduct.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(W.rejected,(function(e,t){e.addProduct.status="failed",e.addProduct.errors=t.error})).addCase(B.pending,(function(e){e.edit.status="loading",e.edit.errors=null})).addCase(B.fulfilled,(function(e,t){e.edit.status="success",e.editedProduct=t.payload.product,e.edit.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(B.rejected,(function(e,t){e.edit.status="failed",e.edit.errors=t.error})).addCase(V.pending,(function(e,t){e.delete.status="loading",e.delete.errors=null})).addCase(V.fulfilled,(function(e,t){e.delete.status="success",e.delete.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(V.rejected,(function(e,t){e.delete.status="failed",e.delete.errors=t.error})).addCase(_,(function(e,t){e.lastUpdate=Date.now()}))}}),H=$.actions,J=H.unmountAdd,z=(H.unmountDelete,H.unmountDetails),G=H.unmountEdit,M=H.unmountHome,Q=H.unmountSearch,K=H.setReload,X=function(e){return e.products.home},Y=function(e){return e.products.sample},Z=function(e){return e.products.details},ee=function(e){return e.products.productDetails},te=function(e){return e.products.search},ne=function(e){return e.products.searchProducts},re=function(e){return e.products.addProduct},ce=function(e){return e.products.addedProduct},ae=function(e){return e.products.edit},se=function(e){return e.products.editedProduct},ue=function(e){return e.products.reload},le=$.reducer,oe=n(5),ie=function(e){var t=e.pid,n=Object(l.d)(P.h),c=Object(l.d)(P.l),a=Object(l.d)(P.g),s=Object(l.c)(),o=Object(oe.f)(),i=Object(r.useState)("idle"),d=Object(u.a)(i,2),j=d[0],b=d[1],f=Object(l.d)(ue),m=Object(r.useState)(null),p=Object(u.a)(m,2),O=p[0],h=p[1];Object(r.useEffect)((function(){O=f,"idle"!=n&&c||s(Object(P.b)())}),[]),Object(r.useEffect)((function(){f!=O&&(h(f),b("idle"))}),[f,O,b,h]),Object(r.useEffect)((function(){"success"==j&&s(K())}),[j,s]);return"success"==n&&Object(N.jsx)("button",{type:"button",className:"btn btn-danger h-full w-full flex-fill m-0 p-1",disabled:"loading"==j||"success"==j,onClick:function(e){return b("loading"),void("idle"!=n&&"failed"!=n&&a?A(t,a).then((function(e){e.status>=200&&e.status<300&&b("success")})).catch((function(e){b("failed")})):o("/login"))},children:{idle:"Delete",loading:"Deleting",success:"Deleted",failed:"Try Again"}[j]})||Object(N.jsx)(N.Fragment,{})},de=function(e){var t=e.pid,n=Object(l.d)(P.h),r=Object(oe.f)(),c="/products/".concat(t,"/edit");return"success"==n&&Object(N.jsx)("button",{type:"button",className:"btn btn-success h-full w-full flex-fill m-0 p-1",onClick:function(){r(c)},children:"Edit Product"})||Object(N.jsx)(N.Fragment,{})},je=function(e){var t=e.product,n=Object(l.d)(P.h),r=Object(l.d)(P.l);return Object(N.jsxs)("div",{className:"d-flex flex-row align-middle justify-content-center flex-lg-column card ProductCard flex-fill ".concat("succes"==n&&"Admin"==r.role?"row-cols-3":"row-cols-2"," row-cols-lg-1"),children:[Object(N.jsx)("div",{className:"d-inline-block flex-grow-1 col align-middle justify-content-center card-header",children:Object(N.jsx)(C.b,{classNmae:"align-middle justify-content-center row",to:"/products/".concat(t.pid,"/details"),children:Object(N.jsx)("img",{className:"col img-fluid align-middle justify-content-center  card-img-top",src:t.img,alt:"".concat(t.name)})})}),Object(N.jsxs)("div",{className:"d-inline-block col align-middle justify-content-center card-body",children:[Object(N.jsx)("h5",{className:"card-title",children:t.name}),Object(N.jsx)("p",{class:"card-text",children:t.category}),Object(N.jsx)("p",{class:"card-text badge bg-warning",children:t.price})]}),"success"==n&&"Admin"==r.role&&Object(N.jsx)("div",{className:"d-inline-block col align-middle justify-content-center card-footer",children:Object(N.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2",children:[Object(N.jsx)("div",{className:"col d-flex",children:Object(N.jsx)(de,{pid:t.pid})}),Object(N.jsx)("div",{className:"col d-flex",children:Object(N.jsx)(ie,{pid:t.pid})})]})})]})},be=function(){var e=Object(l.c)(),t=Object(l.d)(Y),n=(Object(l.d)(P.h),Object(l.d)(ue)),c=Object(l.d)(X),a=c.status,s=(c.error,Object(r.useState)(null)),o=Object(u.a)(s,2),i=o[0];o[1];return Object(r.useEffect)((function(){i=n,e(Object(P.b)())}),[]),Object(r.useEffect)((function(){if("idle"==a&&e(I()),"success"==a)return function(){return e(M())}}),[e,a]),Object(r.useEffect)((function(){n!=i&&e(M())}),[n,i]),Object(N.jsx)("div",{className:"Home container",children:"loading"==a&&Object(N.jsx)("div",{children:"Loading...."})||"success"==a&&t&&Object(N.jsx)("div",{class:"container row row-cols-1 row-cols-md-2 row-cols-lg-3 d-flex",children:t.map((function(e,t){return Object(N.jsx)("div",{className:"col d-flex",children:Object(N.jsx)(je,{product:e},e.pid)})}))})||"failed"==a&&Object(N.jsx)("div",{children:"Error...."})})},fe=function(e){var t=Object(oe.g)().pid,n=Object(l.c)(),c=Object(l.d)(ee),a=Object(l.d)(Z),s=a.status,o=a.errors,i=Object(l.d)(ue),d=Object(r.useState)(null),j=Object(u.a)(d,2),b=j[0];j[1];return console.log(c),Object(r.useEffect)((function(){b=i}),[]),Object(r.useEffect)((function(){if("idle"==s&&n(R(t)),"success"==s)return function(){return n(z())}}),[n,s]),Object(r.useEffect)((function(){i!=b&&n(z())}),[i,b]),console.log(s,o),Object(N.jsx)(N.Fragment,{children:"loading"==s&&Object(N.jsx)("div",{children:"Loading...."})||"success"==s&&c&&Object(N.jsx)("div",{className:"ProductPage container my-auto",children:Object(N.jsxs)("div",{className:"d-flex flex-column my-auto row-cols-1 align-items-center",children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2",children:[Object(N.jsx)("div",{className:"col",children:Object(N.jsx)("img",{src:"http://localhost:5000/products/".concat(c.pid,"/image"),alt:"".concat(c.name),width:"300px"})}),Object(N.jsxs)("div",{className:"col my-auto align-items-center",children:[Object(N.jsx)("div",{children:Object(N.jsxs)("h3",{children:["Name:",c.name]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("h5",{children:["Category:",c.category]})}),Object(N.jsx)("div",{children:Object(N.jsxs)("h4",{children:["Price:",c.price]})}),Object(N.jsx)("div",{children:Object(N.jsx)("h6",{children:c.desc})})]})]})}),Object(N.jsxs)("div",{className:"row row-cols-1 row-cols-lg-2",children:[Object(N.jsx)("div",{className:"d-inline-flex",children:Object(N.jsx)(de,{pid:c.pid})}),Object(N.jsx)("div",{className:"d-inline-flex",children:Object(N.jsx)(ie,{pid:c.pid})})]})]})})||Object(N.jsxs)("div",{children:["No Such Product found",Object(N.jsx)(C.b,{to:"/Home",children:Object(N.jsx)("button",{type:"button",className:"btn btn-sm btn-dark",children:"Go to Home"})})]})||"failed"==s&&Object(N.jsx)("div",{children:"Error...."})})},me=function(){var e=Object(l.d)(P.l);return e&&Object(N.jsx)(C.c,{to:"/user/details",children:Object(N.jsxs)("button",{className:"btn btn-warning btn-sm",children:[" ",e.name]})})||!e&&Object(N.jsx)("div",{children:"No User"})},pe=function(){var e=Object(l.d)(P.h),t=Object(l.c)(),n=Object(l.d)(P.l),c=Object(l.d)(P.m),a=Object(r.useState)("idle"),s=Object(u.a)(a,2),o=(s[0],s[1]),i=Object(r.useState)(null),d=Object(u.a)(i,2),j=d[0],b=d[1];Object(r.useEffect)((function(){j=c,"idle"!=e&&n||t(Object(P.b)())}),[]),Object(r.useEffect)((function(){c!=j&&(b(c),o("idle"))}),[c,j,b]);return"success"==e&&Object(N.jsx)("button",{type:"button",className:"btn btn-danger h-full w-full flex-fill m-0 p-1",disabled:"success"!=e,onClick:function(e){return o("loading"),void t(Object(P.e)())},children:"logout"})||Object(N.jsx)(N.Fragment,{})},Oe=function(){var e=Object(r.useRef)(),t=Object(l.c)(),n=Object(oe.f)(),c=function(r){r.preventDefault(),t(Q()),n("/products/".concat(e.current.value))};return Object(N.jsx)("form",{className:"SearchBar form-inline",id:"searchForm",onSubmit:function(e){return c(e)},children:Object(N.jsxs)("div",{className:"input-group",children:[Object(N.jsx)("input",{type:"search",className:"form-control b-0",ref:e,placeholder:"Enter search query"}),Object(N.jsx)("button",{type:"submit",className:"btn btn-outline btn-warning",onClick:function(e){return c(e)},children:"search"})]})})},he=function(){var e=Object(l.d)(P.h),t=Object(l.d)(P.l);return Object(N.jsx)("nav",{class:"Navbar navbar navbar-expand-lg bg-dark align-items-center navbar-dark",children:Object(N.jsxs)("div",{class:"container-fluid align-items-center",children:[Object(N.jsx)(C.c,{to:"/home",className:"navbar-brand",children:Object(N.jsx)("span",{className:"navbar-brand",children:"ProdPRO"})}),Object(N.jsx)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(N.jsx)("span",{class:"navbar-toggler-icon"})}),Object(N.jsx)("div",{class:"collapse navbar-collapse align-items-center",id:"navbarTogglerDemo02",children:Object(N.jsxs)("ul",{class:"navbar-nav align-items-center me-auto mb-2 mb-lg-0 w-100 text-warning",children:[Object(N.jsx)("li",{className:"nav-item order-4 w-100 w-lg-50 d-inline mx-auto me-auto order-lg-0 center",children:Object(N.jsx)(Oe,{})}),Object(N.jsx)("li",{className:"nav-item order-0 order-lg-1",children:Object(N.jsx)(C.c,{to:"/home",className:"nav-link",children:"Home"})}),"success"==e&&"Admin"==t.role&&Object(N.jsx)("li",{className:"nav-item order-1 order-lg-2",children:Object(N.jsx)(C.c,{to:"/add/products",className:"nav-link",children:"Add\xa0Products"})}),Object(N.jsx)("li",{className:"nav-item order-2 order-lg-3",children:"success"==e?Object(N.jsx)(me,{}):Object(N.jsx)(C.c,{to:"/login",className:"nav-link",children:"Login"})}),Object(N.jsx)("li",{className:"nav-item order-3 order-lg-4",children:"success"==e?Object(N.jsx)(pe,{}):Object(N.jsx)(C.c,{to:"/signup",className:"nav-link",children:"Signup"})})]})})]})})},ge=function(){var e=Object(oe.g)().term,t=Object(l.c)(),n=Object(l.d)(ne),c=Object(l.d)(te),a=c.status,s=(c.error,Object(l.d)(ue)),o=Object(r.useState)(null),i=Object(u.a)(o,2),d=i[0];i[1];return Object(r.useEffect)((function(){d=s}),[]),Object(r.useEffect)((function(){if("idle"==a&&t(q(e)),"success"==a)return function(){return t(Q())}}),[t,a]),Object(r.useEffect)((function(){s!=d&&t(Q())}),[s,d]),Object(N.jsx)("div",{className:"container",children:"loading"==a&&Object(N.jsx)("div",{children:"Loading...."})||"success"==a&&n&&Object(N.jsx)("div",{class:"container row row-cols-1 row-cols-md-2 row-cols-lg-3 d-flex",children:n.map((function(e,t){return Object(N.jsx)("div",{className:"col d-flex",children:Object(N.jsx)(je,{product:e},e.pid)})}))})||"failed"==a&&Object(N.jsx)("div",{children:"Error...."})})},ve=n(17),xe=n(12),ye=n(4),we=/^([a-z0-9]+)(([\s\-\_\/\\]?[a-z0-9]+)*)$/i,Ne=function(e){var t=e.values,n={name:null,category:null,price:null,desc:null,status:!1};return t.name&&""!=t.name||0==t.name.length&&(n.status|=!0,n.name="Name cannot be Empty"),(t.category||""==t.category)&&(0==t.category.length?(n.status|=!0,n.category="Category cannot be Empty"):we.test(t.category)||(n.status|=!0,n.category="category can only contain Alphabets and Numbers seperated by space,_,\\,/ or -")),(t.price||""==t.price)&&(0==t.price.toString().length?(n.status|=!0,n.price="Price cannot be Empty and should be a Number"):isNaN(Number(t.price))&&(n.status|=!0,n.price="Price can only be a Number")),n},Se=function(e){var t=e.values,n={name:null,category:null,price:null,desc:null,status:!1};return t.name&&0!=t.name.length||(n.status|=!0,n.name="Name cannot be Empty"),t.category&&0!=t.category.length?we.test(t.category)||(n.status|=!0,n.category="Category can only contain Alphabets and Numbers seperated by space,_,\\,/ or -"):(n.status|=!0,n.category="Category cannot be Empty"),t.price?isNaN(Number(t.price))&&(n.status|=!0,n.price="Price can only be a Number"):(n.status|=!0,n.price="Price cannot be Empty and should be a number"),n},Ce=function(){var e=Object(oe.f)(),t=Object(l.c)(),n=Object(l.d)(P.h),c=Object(l.d)(P.l),a=Object(l.d)(ce),s=Object(l.d)(re),i=s.status,j=s.error,b=Object(l.d)(ue),f=Object(r.useState)(null),m=Object(u.a)(f,2),p=m[0],O=(m[1],Object(r.useState)({values:{name:"",category:"",price:"",desc:""},err:{name:null,category:null,price:null,desc:null,status:!1},changed:{name:!1,category:!1,price:!1,desc:!1},submit:!1})),h=Object(u.a)(O,2),g=h[0],v=h[1],x=Object(r.useState)("/logo192.png"),y=Object(u.a)(x,2),w=y[0],S=y[1],C=Object(r.useState)(null),E=Object(u.a)(C,2),k=E[0],D=E[1];Object(r.useEffect)((function(){p=b,"idle"!=n&&c||t(Object(P.b)())}),[]),Object(r.useEffect)((function(){"idle"!=n&&"failed"!=n||e("/login")}),[t,n,e]),Object(r.useEffect)((function(){if(v((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{err:Se(e)})})),"success"==i||"failed"==i)return function(){e("/products/".concat(a.pid,"/details")),t(J())}}),[v,Se,g.values]),Object(r.useEffect)((function(){return"success"==i||"failed"==i?function(){e("/products/".concat(a.pid,"/details")),t(J())}:function(){return console.log("unmount")}}),[i,t]),Object(r.useEffect)((function(){b!=p&&t(J())}),[b,p]);var U=function(e){e.preventDefault(),console.log(e),v((function(t){return Object(ye.a)(Object(ye.a)({},g),{},{values:Object(ye.a)(Object(ye.a)({},g.values),{},Object(xe.a)({},e.target.name,e.target.value)),changed:Object(ye.a)(Object(ye.a)({},g.changed),{},Object(xe.a)({},e.target.name,!0))})})),console.log(g)},F=function(){var e=Object(o.a)(d.a.mark((function e(n){var r,c,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),r=new FormData(document.querySelector("#addProductForm")),k?r.set("productImg",k,k.name):r.delete("productImg"),c=Object(ve.a)(r.entries());try{for(c.s();!(a=c.n()).done;)s=a.value,console.log(s[0],s[1])}catch(u){c.e(u)}finally{c.f()}v((function(e){return Object(ye.a)(Object(ye.a)({},g),{},{submit:!0})})),g.err.status||t(W(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"success"==n&&Object(N.jsxs)("div",{className:"AddProduct container justify-content-center align-items-center d-flex flex-column",children:[Object(N.jsxs)("h2",{class:"display-4 mt-4",children:[{idle:"Add",loading:"Adding",success:"Added",failed:"Failed Adding"}[i]," Product:"]}),("idle"==i||"loading"==i)&&Object(N.jsxs)("form",{encType:"multipart/form-data",id:"addProductForm",className:"form w-75",method:"POST",onSubmit:function(e){F(e)},children:[Object(N.jsxs)("div",{className:"form-group my-1",children:[Object(N.jsx)("label",{htmlFor:"addProductName",children:"Name"}),Object(N.jsx)("input",{id:"addProductName",className:"form-control",value:g.values.name,name:"name",onChange:function(e){return U(e)}}),(g.submit||g.changed.name)&&g.err.name&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:g.err.name})]}),Object(N.jsxs)("div",{className:"form-group my-1",children:[Object(N.jsx)("label",{htmlFor:"addProductCategory",children:"Category"}),Object(N.jsx)("input",{id:"addProductCategory",className:"form-control",name:"category",value:g.values.successcategory,onChange:function(e){return U(e)}}),(g.submit||g.changed.category)&&g.err.category&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:g.err.category})]}),Object(N.jsxs)("div",{className:"form-group my-1",children:[Object(N.jsx)("label",{htmlFor:"addProductPrice",children:"Price"}),Object(N.jsx)("input",{id:"addProductPrice",type:"number",className:"form-control",name:"price",value:g.values.price,onChange:function(e){return U(e)}}),(g.submit||g.changed.price)&&g.err.price&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:g.err.price})]}),Object(N.jsxs)("div",{className:"form-group my-1",children:[Object(N.jsx)("label",{htmlFor:"addProductDesc",children:"Description"}),Object(N.jsx)("input",{id:"addProductDesc",className:"form-control",name:"desc",value:g.values.desc,onChange:function(e){return U(e)}}),(g.submit||g.changed.desc)&&g.err.desc&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:g.err.desc})]}),Object(N.jsx)("div",{className:"form-group my-1",children:Object(N.jsxs)("label",{className:"m-1",htmlFor:"img-upload",children:[Object(N.jsx)("img",{name:"preview",className:"img-responsive img-thumbnail",src:w,width:"150px"}),"Click on the image to set new image"]})}),Object(N.jsx)("input",{id:"img-upload",name:"productImg",type:"file",style:{display:"none"},onChange:function(e){D(e.target.files[0]),S(URL.createObjectURL(e.target.files[0]))}}),Object(N.jsx)("button",{className:"btn btn-dark px-4 my-3",type:"submit",disabled:"pending"==i||g.err.status,children:"Submit"}),"failed"==i&&Object(N.jsx)("p",{className:"errLine",children:j})]})]})||"loading"==n&&Object(N.jsx)("div",{children:"Waiting...."})},Pe=n(41),Ee=["pid","img"],ke=function(){var e=Object(oe.g)().pid,t=Object(l.c)(),n=Object(l.d)(P.l),c=Object(oe.f)(),a=Object(l.d)(P.h),s=Object(l.d)(ee),i=(Object(l.d)(se),Object(l.d)(Z)),j=Object(l.d)(ae),b=j.status,f=(j.errors,Object(r.useState)({values:null,err:{name:null,category:null,price:null,desc:null,status:!1},changed:{name:!1,category:!1,price:!1,desc:!1},submit:!1})),m=Object(u.a)(f,2),p=m[0],O=m[1],h=Object(r.useState)(null),g=Object(u.a)(h,2),v=g[0],x=g[1],y=Object(r.useState)(null),w=Object(u.a)(y,2),S=w[0],C=w[1],E=Object(l.d)(ue),k=Object(r.useState)(null),D=Object(u.a)(k,2),U=D[0];D[1];Object(r.useEffect)((function(){U=E,"idle"!=a&&n||t(Object(P.b)())}),[]),Object(r.useEffect)((function(){"idle"!=a&&"failed"!=a||c("/login")}),[t,a]),Object(r.useEffect)((function(){if(p.values&&O((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{err:Object(ye.a)(Object(ye.a)({},e.err),Ne(e))})})),"success"==b||"failed"==b)return function(){c("/products/".concat(e,"/details")),t(G())};console.log(p)}),[O,p.values]),Object(r.useEffect)((function(){if(p.values||"idle"!=i.status||t(R(e)),!p.values&&s){s.pid;var n=s.img,r=Object(Pe.a)(s,Ee);O((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{values:Object(ye.a)(Object(ye.a)({},e.values),r)})})),x((function(e){return n}))}return"success"==i.status?function(){return t(z())}:"success"==b||"failed"==b?function(){c("/products/".concat(e,"/details")),t(G())}:void 0}),[p,O,s,x,i.status,b]),Object(r.useEffect)((function(){E!=U&&t(G())}),[E,U]);var F=function(e){e.preventDefault(),O(Object(ye.a)(Object(ye.a)({},p),{},{values:Object(ye.a)(Object(ye.a)({},p.values),{},Object(xe.a)({},e.target.name,e.target.value)),changed:Object(ye.a)(Object(ye.a)({},p.changed),{},Object(xe.a)({},e.target.name,!0))}))},L=function(){var n=Object(o.a)(d.a.mark((function n(r){var c,a,s,l;return d.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.preventDefault(),O(Object(ye.a)(Object(ye.a)({},p),{},{submit:!0})),(c=new FormData).set("pid",e.toString()),Object.entries(p).forEach((function(e){var t=Object(u.a)(e,2),n=t[0],r=t[1];return c.append(n,r)})),S?c.set("productImg",S,S.name):c.delete("productImg"),a=Object(ve.a)(c.entries());try{for(a.s();!(s=a.n()).done;)l=s.value,console.log(l[0],l[1])}catch(o){a.e(o)}finally{a.f()}p.err.status||t(B(c));case 9:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();return"success"==a&&Object(N.jsxs)("div",{className:"EditProductPage container",children:[Object(N.jsxs)("h2",{children:[{idle:"Edit",loading:"Updating",success:"Updated",failed:"Failed Updating"}[b]," Product:"]}),p.values&&"idle"==b&&Object(N.jsxs)("form",{encType:"multipart/form-data",id:"editProductForm",className:"form m-1",method:"POST",onSubmit:function(e){L(e)},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"editProductName",children:"Name"}),Object(N.jsx)("input",{id:"editProductName",className:"form-control",value:p.values.name,name:"name",onChange:function(e){return F(e)}}),(p.submit||p.changed.name)&&p.err.name&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:p.err.name})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"editProductCategory",children:"Category"}),Object(N.jsx)("input",{id:"editProductCategory",className:"form-control",name:"category",value:p.values.category,onChange:function(e){return F(e)}}),(p.submit||p.changed.category)&&p.err.category&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:p.err.price})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"editProductPrice",children:"Price"}),Object(N.jsx)("input",{id:"editProductPrice",type:"number",className:"form-control",name:"price",value:p.values.price,onChange:function(e){return F(e)}}),(p.submit||p.changed.price)&&p.err.pricee&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:p.err.price})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"editProductDesc",children:"Description"}),Object(N.jsx)("input",{id:"editProductDesc",className:"form-control",name:"desc",value:p.values.desc,onChange:function(e){return F(e)}}),(p.submit||p.changed.desc)&&p.err.desc&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:p.err.desc})]}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("label",{className:"m-1",htmlFor:"img-upload",children:[Object(N.jsx)("img",{name:"preview",className:"img-responsive img-thumbnail",src:v,width:"150px"}),"Click on the image to set new image"]})}),Object(N.jsx)("input",{id:"img-upload",name:"productImg",type:"file",style:{display:"none"},onChange:function(e){C(e.target.files[0]),x(URL.createObjectURL(e.target.files[0]))}}),Object(N.jsx)("button",{className:"btn btn-dark btn-block",type:"submit",disabled:"pending"==b||p.err.status,children:"Submit"})]})||("loading"==i.status&&!p||"loading"==b)&&Object(N.jsx)("div",{children:"Loading..."})||"failed"==b||"failed"==i.status&&Object(N.jsx)("div",{children:"Error....."})]})||"pending"==a&&Object(N.jsx)("div",{children:"Waiting..."})},De=n(20),Ue=function(){var e=Object(l.c)(),t=Object(oe.f)(),n=Object(l.d)(P.h),c=Object(l.d)(P.l);console.log(n);var a=Object(r.useState)({values:{email:"",password:""},err:{email:null,password:null,status:!1},changed:{email:!1,password:!1},submit:!1}),s=Object(u.a)(a,2),o=s[0],i=s[1],d=Object(l.d)(P.m),j=Object(l.d)(P.k),b=j.status,f=(j.error,Object(r.useState)(null)),m=Object(u.a)(f,2),p=m[0];m[1];Object(r.useEffect)((function(){p=d,"idle"!=n&&c||e(Object(P.b)())}),[]),console.log(n,b),Object(r.useEffect)((function(){if("success"!=n&&"success"!=b||(t("/home"),e(Object(P.q)())),"success"==b||"failed"==b)return function(){t("/home"),e(Object(P.q)())}}),[e,t,n,P.q,b]),Object(r.useEffect)((function(){if(o.values&&i((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{err:Object(ye.a)({},Object(De.a)(e))})})),"success"==b||"failed"==b)return function(){t("/home"),e(Object(P.q)())}}),[o.values,i,b,t,e,P.q]),Object(r.useEffect)((function(){d!=p&&e(Object(P.q)())}),[d,p,P.q,e]);var O=function(e){e.preventDefault(),i((function(t){return Object(ye.a)(Object(ye.a)({},o),{},{values:Object(ye.a)(Object(ye.a)({},t.values),{},Object(xe.a)({},e.target.name,e.target.value)),changed:Object(ye.a)(Object(ye.a)({},t.changed),{},Object(xe.a)({},e.target.name,!0))})}))};return"success"!=n&&Object(N.jsxs)("div",{className:"Login container d-flex flex-column align-items-center justify-content-center",children:[Object(N.jsx)("h2",{className:"display-4 mt-4",children:{idle:"Login",loading:"Logging in",success:"Logged in",failed:"Failed Login"}[b]}),("idle"==b||"loading"==b)&&Object(N.jsxs)("form",{encType:"multipart/form-data",id:"loginForm",name:"lofinF",className:"form w-75 m-1",method:"POST",onSubmit:function(t){!function(t){t.preventDefault(),i(Object(ye.a)(Object(ye.a)({},o),{},{submit:!0}));var n=new FormData(document.querySelector("#loginForm"));o.err.status||e(Object(P.n)(n))}(t)},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"setEmail",children:"Email"}),Object(N.jsx)("input",{id:"setEmail",type:"email",className:"form-control",value:o.values.email,name:"email",onChange:function(e){return O(e)}}),(o.submit||o.changed.email)&&o.err.email&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:o.err.email})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"setPassword",children:"Password"}),Object(N.jsx)("input",{id:"setPassword",type:"password",className:"form-control",name:"password",value:o.values.password,onChange:function(e){return O(e)}}),(o.submit||o.changed.password)&&o.err.password&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:o.err.password})]}),Object(N.jsx)("button",{className:"btn btn-dark btn-block my-3 px-4",type:"submit",children:"Submit"})]})||"failed"==b&&Object(N.jsx)("div",{children:"Error...."})]})||"success"==n||Object(N.jsx)("div",{children:"Taking to Home...."})},Fe=function(){var e=Object(oe.f)(),t=Object(l.c)(),n=Object(l.d)(P.l),c=Object(l.d)(P.h),a=Object(l.d)(P.f),s=a.status,i=(a.error,Object(l.d)(P.m)),j=Object(r.useState)(null),b=Object(u.a)(j,2),f=b[0],m=(b[1],Object(r.useState)({values:{email:null,name:null,password:null,phone:null},err:{email:null,name:null,password:null,phone:null,status:!1},changed:{email:!1,name:!1,password:!1,phone:!1},submit:!1})),p=Object(u.a)(m,2),O=p[0],h=p[1];Object(r.useEffect)((function(){f=i,"idle"!=c&&n||t(Object(P.b)())}),[]),Object(r.useEffect)((function(){"success"!=c&&"success"!=s||(e("/login"),t(Object(P.r)()))}),[t,e,c,P.r,s]),Object(r.useEffect)((function(){if(O.values&&h((function(e){return Object(ye.a)(Object(ye.a)({},e),{},{err:Object(ye.a)({},Object(De.b)(e))})})),"success"==s)return function(){e("/login"),t(Object(P.r)())}}),[O.values,h,De.b,s,e,t,P.r]),Object(r.useEffect)((function(){if("success"==s)return function(){e("/login"),t(Object(P.r)())}}),[s,t],e,P.r),Object(r.useEffect)((function(){i!=f&&t(Object(P.r)())}),[i,f,t,P.r]);var g=Object(r.useState)("/logo192.png"),v=Object(u.a)(g,2),x=v[0],y=v[1],w=Object(r.useState)(null),S=Object(u.a)(w,2),C=S[0],E=S[1],k=function(e){e.preventDefault(),h((function(t){return Object(ye.a)(Object(ye.a)({},O),{},{values:Object(ye.a)(Object(ye.a)({},O.values),{},Object(xe.a)({},e.target.name,e.target.value)),changed:Object(ye.a)(Object(ye.a)({},O.changed),{},Object(xe.a)({},e.target.name,!0))})}))},D=function(){var e=Object(o.a)(d.a.mark((function e(n){var r,c,a,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),h(Object(ye.a)(Object(ye.a)({},O),{},{submit:!0})),r=new FormData(document.querySelector("#signUpForm")),C?r.set("userImg",C,C.name):r.delete("userImg"),c=Object(ve.a)(r.entries());try{for(c.s();!(a=c.n()).done;)s=a.value,console.log(s[0],s[1])}catch(u){c.e(u)}finally{c.f()}O.err.status||t(Object(P.a)(r));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"success"!=c&&Object(N.jsxs)("div",{className:"SignUpPage container",children:[Object(N.jsxs)("h2",{children:[{idle:"Sign Up",loading:"Signing Up",success:"Sign Up Successful",failed:"Failed Sign Up"}[s],":"]}),("idle"==s||"loading"==s)&&Object(N.jsxs)("form",{encType:"multipart/form-data",id:"signUpForm",className:"EditProduct form-group m-1",method:"POST",onSubmit:function(e){D(e)},children:[Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"userName",children:"Name"}),Object(N.jsx)("input",{id:"userName",className:"form-control",value:O.values.name,name:"name",onChange:function(e){return k(e)}}),(O.submit||O.changed.name)&&O.err.name&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:O.err.name})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"userEmail",children:"Email"}),Object(N.jsx)("input",{id:"userEmail",className:"form-control",value:O.values.email,name:"email",onChange:function(e){return k(e)}}),(O.submit||O.changed.email)&&O.err.email&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:O.err.email})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"userPhone",children:"Phone"}),Object(N.jsx)("input",{id:"userPhone",type:"number",className:"form-control",name:"phone",value:O.values.phone,onChange:function(e){return k(e)}}),(O.submit||O.changed.phone)&&O.err.phone&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:O.err.phone})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("label",{htmlFor:"userPassword",children:"Password"}),Object(N.jsx)("input",{id:"userPassword",type:"password",className:"form-control",name:"password",value:O.values.password,onChange:function(e){return k(e)}}),(O.submit||O.changed.password)&&O.err.password&&Object(N.jsx)("p",{className:"errLine",style:{color:"red"},children:O.err.password})]}),Object(N.jsx)("div",{className:"form-group",children:Object(N.jsxs)("label",{className:"m-1",htmlFor:"img-upload",children:[Object(N.jsx)("img",{name:"preview",className:"img-responsive img-thumbnail",src:x,width:"150px"}),"Click on the image to set new profile picture"]})}),Object(N.jsx)("input",{id:"img-upload",name:"userImg",type:"file",style:{display:"none"},onChange:function(e){E(e.target.files[0]),y(URL.createObjectURL(e.target.files[0]))}}),Object(N.jsx)("button",{className:"btn btn-dark btn-block",type:"submit",disabled:"loading"==s||O.err.status,children:"Submit"})]})||"failed"==s&&Object(N.jsx)("div",{children:"Error...."})]})||Object(N.jsx)("div",{children:"Taking to Login..."})},Le=n(42),Ae=n(43);var Te=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsxs)(C.a,{children:[Object(N.jsx)(he,{}),Object(N.jsxs)(oe.c,{children:[Object(N.jsx)(oe.a,{path:"/counter",element:Object(N.jsx)(S,{})}),Object(N.jsx)(oe.a,{path:"/",element:Object(N.jsx)(be,{})}),Object(N.jsx)(oe.a,{path:"/home",element:Object(N.jsx)(be,{})}),Object(N.jsx)(oe.a,{path:"/login",element:Object(N.jsx)(Ue,{})}),Object(N.jsx)(oe.a,{path:"/signup",element:Object(N.jsx)(Fe,{})}),Object(N.jsx)(oe.a,{path:"/user/details",element:Object(N.jsx)(Ae.a,{})}),Object(N.jsx)(oe.a,{path:"/user/edit",element:Object(N.jsx)(Le.a,{})}),Object(N.jsx)(oe.a,{path:"/products/:term",element:Object(N.jsx)(ge,{})}),Object(N.jsx)(oe.a,{path:"/products/:pid/details",element:Object(N.jsx)(fe,{})}),Object(N.jsx)(oe.a,{path:"/add/products",element:Object(N.jsx)(Ce,{})}),Object(N.jsx)(oe.a,{path:"/products/:pid/edit",element:Object(N.jsx)(ke,{})})]})]})})},_e=Object(j.a)({reducer:{counter:x,products:le,user:P.c}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(l.a,{store:_e,children:Object(N.jsx)(Te,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},14:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return d}));var r=n(11),c=n.n(r),a=function(e){return c.a.get("http://localhost:5000/user/details",e)},s=function(e){return c.a.post("http://localhost:5000/signup",e)},u=function(e){return c.a.post("http://localhost:5000/login",e)},l=function(e,t){return c.a.put("http://localhost:5000/user",e,t)},o=function(e){return console.log(e),c.a.delete("http://localhost:5000/user",e)},i=function(e){return c.a.get("http://localhost:5000/auth",e)},d=function(e){return c.a.get("http://localhost:5000/user/image",e)}},18:function(e,t,n){e.exports={row:"Counter_row__2I64B",value:"Counter_value__2S2BT",button:"Counter_button__2fbji",textbox:"Counter_textbox__23QO1",asyncButton:"Counter_asyncButton__36FuE Counter_button__2fbji"}},2:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"n",(function(){return f})),n.d(t,"r",(function(){return O})),n.d(t,"o",(function(){return h})),n.d(t,"p",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"e",(function(){return x})),n.d(t,"l",(function(){return y})),n.d(t,"f",(function(){return w})),n.d(t,"k",(function(){return N})),n.d(t,"i",(function(){return S})),n.d(t,"j",(function(){return C})),n.d(t,"m",(function(){return P})),n.d(t,"g",(function(){return E})),n.d(t,"h",(function(){return k}));var r=n(8),c=n(7),a=n.n(c),s=n(9),u=n(14),l=Object(s.b)("products/lastUpdate"),o=Object(s.c)("user/checkAuth",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,c=JSON.parse(localStorage.getItem("user")),s={headers:{"x-access-token":c.accessToken}},e.next=6,Object(u.d)(s);case 6:return e.sent,e.abrupt("return",{user:c,auth:s});case 10:return e.prev=10,e.t0=e.catch(1),e.abrupt("return",r({user:null,auth:null}));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t,n){return e.apply(this,arguments)}}()),i=Object(s.c)("user/getUserDetails",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.rejectWithValue,e.prev=1,e.next=4,Object(u.c)(r().user.auth);case 4:return s=e.sent,console.log(s),e.abrupt("return",s.data);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t,n){return e.apply(this,arguments)}}()),d=Object(s.c)("user/addUser",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.rejectWithValue,e.prev=1,e.next=4,Object(u.f)(t);case 4:return c=e.sent,e.abrupt("return",c.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",r(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),j=Object(s.c)("user/editUser",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,c,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,c=n.rejectWithValue,e.prev=1,e.next=4,Object(u.g)(t,r().user.auth);case 4:return s=e.sent,e.abrupt("return",s.data);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",c(e.t0.response.data));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,n){return e.apply(this,arguments)}}()),b=Object(s.c)("user/removeUser",function(){var e=Object(r.a)(a.a.mark((function e(t,n){var r,c;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.getState,e.next=3,Object(u.a)(r().user.auth);case 3:return c=e.sent,console.log(c.data),e.abrupt("return",c.data);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),f=Object(s.c)("user/setUser",function(){var e=Object(r.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.e)(t);case 2:return n=e.sent,console.log(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),m=Object(s.d)({name:"products",initialState:{user:null,reload:!1,lastUpdate:Date.now(),details:{status:"idle",errors:null},signup:{status:"idle",errors:null},edit:{status:"idle",errors:null},delete:{status:"idle",errors:null},login:{status:"idle",errors:null},authStatus:null,auth:null},reducers:{unmountSignUp:function(e){e.signup={status:"idle",errors:null}},unmountDelete:function(e){e.delete={status:"idle",errors:null}},unmountEdit:function(e){e.edit={status:"idle",errors:null}},unmountDetails:function(e){e.details={status:"idle",errors:null}},unmountLogin:function(e){e.login={status:"idle",errors:null}},getAuth:function(e){localStorage.getItem("user")?e.auth={headers:{"x-access-token":JSON.parse(localStorage.getItem("token")).accessToken}}:e.auth=null},logoutUser:function(e){console.log("logout"),localStorage.removeItem("user"),e.authStatus="idle",e.user=null,e.userImg=null,console.log(e)},setUserReload:function(e){e.reload=!e.reload}},extraReducers:function(e){e.addCase(i.pending,(function(e){e.details.status="loading",e.details.errors=null})).addCase(i.fulfilled,(function(e,t){e.details.status="success",e.details.errors=null})).addCase(i.rejected,(function(e,t){e.details.status="failed",e.details.errors=t.error})).addCase(d.pending,(function(e){e.signup.status="loading",e.signup.errors=null})).addCase(d.fulfilled,(function(e,t){e.signup.status="success",e.signup.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(d.rejected,(function(e,t){e.signup.status="failed",e.signup.errors=t.error})).addCase(j.pending,(function(e){e.edit.status="loading",e.edit.errors=null})).addCase(j.fulfilled,(function(e,t){e.edit.status="success",e.edit.errors=null,e.user=t.payload.user,localStorage.setItem("user",JSON.stringify(t.payload.user)),e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(j.rejected,(function(e,t){e.edit.status="failed",e.edit.errors=t.error})).addCase(f.pending,(function(e){e.login.status="loading",e.login.errors=null,e.auth=null,e.authStatus="loading"})).addCase(f.fulfilled,(function(e,t){e.login.status="success",e.user=t.payload.user,e.login.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now(),t.payload.user.accessToken&&(localStorage.setItem("user",JSON.stringify(t.payload.user)),e.auth={headers:{"x-access-token":t.payload.user.accessToken}},e.authStatus="success")})).addCase(f.rejected,(function(e,t){e.login.status="failed",e.login.errors=t.error,e.auth=null,e.authStatus="failed"})).addCase(b.pending,(function(e,t){e.delete.status="loading",e.delete.errors=null})).addCase(b.fulfilled,(function(e,t){e.user=null,e.authStatus="idle",e.auth=null,localStorage.removeItem("user"),e.delete.status="success",e.delete.errors=null,e.reload=!e.reload,e.lastUpdate=Date.now()})).addCase(b.rejected,(function(e,t){e.delete.status="failed",e.delete.errors=t.error})).addCase(l,(function(e,t){e.lastUpdate=Date.now()})).addCase(o.fulfilled,(function(e,t){e.authStatus="success",e.auth=t.payload.auth,e.user=t.payload.user})).addCase(o.pending,(function(e,t){e.authStatus="loading"})).addCase(o.rejected,(function(e,t){e.authStatus="failed",e.auth=null,e.user=null}))}}),p=m.actions,O=p.unmountSignUp,h=p.unmountDelete,g=(p.unmountDetails,p.unmountEdit),v=p.unmountLogin,x=(p.setUserReload,p.getAuth,p.logoutUser),y=function(e){return e.user.user},w=function(e){return e.user.signup},N=function(e){return e.user.login},S=function(e){return e.user.edit},C=function(e){return e.user.editedUser},P=function(e){return e.user.reload},E=function(e){return e.user.auth},k=function(e){return e.user.authStatus};t.c=m.reducer},20:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return u}));var r=/^.*@.*\..*$/,c=/^[a-z0-9\s\$\_\?\&\(\)]{8,32}$/i,a=function(e){var t=e.values,n={name:null,email:null,phone:null,password:null,status:!1};return t.name&&0!=t.name.length||(n.status|=!0,n.name="name cannot be empty"),t.email&&0!=t.email.length?r.test(t.email)||(n.status|=!0,n.email="enter a valid email address"):(n.status|=!0,n.email="email is required"),t.phone&&(0==(""+t.phone).length?(n.status|=!0,n.phone="phone cannot be empty"):(isNaN(t.phone)||t.phone<1e9||t.phone>9999999999)&&(n.status|=!0,n.phone="phone is invalid")),t.password&&0!=t.password.length?t.password.length<8||t.password.length>32?(n.status|=!0,n.password="password can only be between 8 to 32 characters long"):c.test(t.password)||(n.status|=!0,n.password="password can only contain letters, digits,$,_,(,),? and &"):(n.status|=!0,n.password="password is required"),n},s=function(e){var t=e.values,n={email:null,password:null,status:!1};return t.email&&0!=t.email.length?r.test(t.email)||(n.status|=!0,n.email="enter a valid email address"):(n.status|=!0,n.email="email is required"),t.password&&0!=t.password.length?t.password.length<8||t.password.length>32?(n.status|=!0,n.password="password can only be between 8 to 32 characters long"):c.test(t.password)||(n.status|=!0,n.password="password can only contain letters, digits,$,_,(,),? and &"):(n.status|=!0,n.password="password is required"),n},u=function(e){var t=e.values,n={name:null,phone:null,password:null,status:!1};return""!=t.name&&0!=t.name.length||(n.status|=!0,n.name="name cannot be empty"),t.phone&&(0==(""+t.phone).length?(n.status|=!0,n.phone="phone is required"):(isNaN(t.phone)||t.phone<1e9||t.phone>9999999999)&&(n.status|=!0,n.phone="phone is invalid")),t.password&&(0==t.password.length?(n.status|=!0,n.password="password is required"):t.password.length<8&&t.password.length>32?(n.status|=!0,n.password="password can only be between 8 to 32 characters long"):c.test(t.password)||(n.status|=!0,n.password="password can only contain letters, digits,$,_,(,),? and &")),console.log(t,n),n}},42:function(e,t,n){"use strict";(function(e){var r=n(17),c=n(8),a=n(12),s=n(4),u=n(6),l=n(7),o=n.n(l),i=n(1),d=n(3),j=n(5),b=n(14),f=n(2),m=n(20),p=n(0);t.a=function(){var t=Object(d.c)(),n=Object(j.f)(),l=Object(d.d)(f.h),O=Object(d.d)(f.g),h=(Object(d.d)(f.j),Object(d.d)(f.l)),g=Object(d.d)(f.i),v=g.status,x=(g.errors,Object(i.useState)({values:null,err:{name:null,password:null,phone:null,status:!1},changed:{name:!1,password:!1,phone:!1},submit:!1})),y=Object(u.a)(x,2),w=y[0],N=y[1],S=Object(i.useState)(null),C=Object(u.a)(S,2),P=C[0],E=C[1],k=Object(i.useState)(null),D=Object(u.a)(k,2),U=D[0],F=D[1],L=Object(d.d)(f.m),A=Object(i.useState)(null),T=Object(u.a)(A,2),_=T[0];T[1];Object(i.useEffect)((function(){_=L,"idle"!=l&&h||t(Object(f.b)())}),[]),Object(i.useEffect)((function(){"idle"!=l&&"failed"!=l||n("/login")}),[t,f.b]),Object(i.useEffect)((function(){if(w.values&&N((function(e){return Object(s.a)(Object(s.a)({},e),{},{err:Object(s.a)({},Object(m.c)(e))})})),"success"==v||"failed"==v)return function(){t(Object(f.p)()),n("/user/details")}}),[w.values,N]),Object(i.useEffect)((function(){if(h&&"success"==l&&!w.values&&(N(Object(s.a)(Object(s.a)({},w),{},{values:{name:h.name,phone:h.phone,password:""}})),Object(b.b)(Object(s.a)(Object(s.a)({},O),{},{responseType:"arraybuffer"})).then((function(t){E("data:".concat(t.headers["content-type"],";base64,").concat(e(t.data,"binary").toString("base64")))})).catch((function(e){return E(null)}))),"success"==v)return function(){t(Object(f.p)()),n("/user/details")}}),[w,h,l,N,E,v]),Object(i.useEffect)((function(){console.log("here"),L!=_&&t(Object(f.p)())}),[L,_]);var I=function(e){e.preventDefault(),N(Object(s.a)(Object(s.a)({},w),{},{values:Object(s.a)(Object(s.a)({},w.values),{},Object(a.a)({},e.target.name,e.target.value)),changed:Object(s.a)(Object(s.a)({},w.changed),{},Object(a.a)({},e.target.name,!0))}))},R=function(){var e=Object(c.a)(o.a.mark((function e(n){var c,a,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),N(Object(s.a)(Object(s.a)({},w),{},{submit:!0})),c=new FormData(document.querySelector("#editUserForm")),U?c.set("userImg",U,U.name):c.delete("userImg"),w.values.name&&""!=w.values.name||w.changed.name||c.delete("name"),w.values.password&&""!=w.values.password||w.changed.password||c.delete("password"),w.values.phone&&""!=w.values.phone||w.changed.phone||c.delete("phone"),a=Object(r.a)(c.entries());try{for(a.s();!(u=a.n()).done;)l=u.value,console.log(l[0],l[1])}catch(o){a.e(o)}finally{a.f()}w.err.status||t(Object(f.d)(c));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return"success"==l&&w.values&&Object(p.jsxs)("div",{className:"EditUserPage container",children:[Object(p.jsxs)("h2",{children:[{idle:"Edit",loading:"Updating",success:"Updated",failed:"Failed Updating"}[v],":"]}),("idle"==v||"loading"==v)&&Object(p.jsxs)("form",{encType:"multipart/form-data",id:"editUserForm",className:"EditProduct form-group m-1",method:"POST",onSubmit:function(e){R(e)},children:[Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"userName",children:"Name"}),Object(p.jsx)("input",{id:"userName",className:"form-control",value:w.values.name,name:"name",onChange:function(e){return I(e)}}),(w.submit||w.changed.name)&&w.err.name&&Object(p.jsx)("p",{className:"errLine",style:{color:"red"},children:w.err.name})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"userPhone",children:"Phone"}),Object(p.jsx)("input",{id:"userPhone",type:"number",className:"form-control",name:"phone",value:w.values.phone,onChange:function(e){return I(e)}}),(w.submit||w.changed.phone)&&w.err.phone&&Object(p.jsx)("p",{className:"errLine",style:{color:"red"},children:w.err.phone})]}),Object(p.jsxs)("div",{className:"form-group",children:[Object(p.jsx)("label",{htmlFor:"userPassword",children:"Password"}),Object(p.jsx)("input",{id:"userPassword",type:"password",className:"form-control",name:"password",value:w.values.password,onChange:function(e){return I(e)}}),(w.submit||w.changed.password)&&w.err.password&&Object(p.jsx)("p",{className:"errLine",style:{color:"red"},children:w.err.password})]}),Object(p.jsx)("div",{className:"form-group",children:Object(p.jsxs)("label",{className:"m-1",htmlFor:"img-upload",children:[Object(p.jsx)("img",{name:"preview",className:"img-responsive img-thumbnail",src:P,width:"150px"}),"Click on the image to set new profile picture"]})}),Object(p.jsx)("input",{id:"img-upload",name:"userImg",type:"file",style:{display:"none"},onChange:function(e){F(e.target.files[0]),E(URL.createObjectURL(e.target.files[0]))}}),Object(p.jsx)("button",{className:"btn btn-dark btn-block",type:"submit",disabled:"loading"==v||w.err.status,children:"Submit"})]})||"failed"==v&&Object(p.jsx)("div",{children:"Error...."})]})||"loading"==l&&Object(p.jsx)("div",{children:"Waiting...."})}}).call(this,n(39).Buffer)},43:function(e,t,n){"use strict";(function(e){var r=n(4),c=n(8),a=n(6),s=n(7),u=n.n(s),l=n(1),o=n(3),i=n(5),d=n(44),j=n(45),b=n(2),f=(n(11),n(14)),m=n(0);t.a=function(){var t=Object(o.c)(),n=Object(i.f)(),s=Object(o.d)(b.h,o.b),p=Object(l.useState)(null),O=Object(a.a)(p,2),h=O[0],g=O[1],v=Object(o.d)(b.g),x=Object(o.d)(b.l),y=Object(o.d)(b.m),w=Object(l.useRef)(null);return Object(l.useEffect)((function(){w.current=y,"idle"!=s&&x||t(Object(b.b)())}),[]),console.log(s),Object(l.useEffect)(Object(c.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:"idle"!=s&&"failed"!=s||n("/login"),"success"==s&&v&&!h&&Object(f.b)(Object(r.a)(Object(r.a)({},v),{},{responseType:"arraybuffer"})).then((function(t){console.log(t),g("data:".concat(t.headers["content-type"],";base64,").concat(e(t.data,"binary").toString("base64")))})).catch((function(e){return g(null)}));case 2:case"end":return t.stop()}}),t)}))),[s,n,h,g,f.b,v]),console.log(x,s),"success"==s&&x&&Object(m.jsxs)("div",{className:"UserDetails container mt-4",children:[Object(m.jsx)("img",{src:h,alt:"".concat(x.name),width:"300px"}),Object(m.jsxs)("h3",{children:["Name:",x.name]}),Object(m.jsxs)("h5",{children:["Role:",x.role]}),Object(m.jsxs)("h4",{children:["Phone:",x.phone]}),Object(m.jsxs)("h4",{children:["Email:",x.email]}),Object(m.jsx)(d.a,{}),Object(m.jsx)(j.a,{})]})||"loading"==s&&Object(m.jsx)("div",{children:"Waiting..."})}}).call(this,n(39).Buffer)},44:function(e,t,n){"use strict";var r=n(3),c=n(5),a=n(2),s=n(0);t.a=function(){var e=Object(r.d)(a.h),t=Object(c.f)();return"success"==e&&Object(s.jsx)("button",{type:"button",className:"btn btn-success h-full w-full flex-fill m-0 p-1",onClick:function(){t("/user/edit")},children:"Edit User"})||Object(s.jsx)(s.Fragment,{})}},45:function(e,t,n){"use strict";var r=n(6),c=n(3),a=n(14),s=n(1),u=n(2),l=n(5),o=n(0);t.a=function(e){e.pid;var t=Object(c.d)(u.h),n=Object(c.c)(),i=Object(l.f)(),d=Object(c.d)(u.l),j=Object(c.d)(u.g),b=Object(s.useState)("idle"),f=Object(r.a)(b,2),m=f[0],p=f[1],O=Object(c.d)(u.m),h=Object(s.useState)(null),g=Object(r.a)(h,2),v=g[0],x=g[1];Object(s.useEffect)((function(){v=O,"idle"!=t&&d||n(Object(u.b)())}),[]),Object(s.useEffect)((function(){if(O!=v&&(x(O),p("idle")),"success"==m)return function(){return n(Object(u.o)())}}),[O,v,p,x,m,n,u.o]),Object(s.useEffect)((function(){if("success"==m&&(n(Object(u.e)()),i("/home")),"success"==m)return function(){return n(Object(u.o)())}}),[m,n,u.e,i,u.o]);return"success"==t&&Object(o.jsx)("button",{type:"button",className:"btn btn-danger h-full w-full flex-fill m-0 p-1",disabled:"loading"==m||"success"==m||"success"!=t,onClick:function(e){return p("loading"),void Object(a.a)(j).then((function(e){e.status>=200&&e.status<300&&p("success")})).catch((function(e){p("failed")}))},children:{idle:"Delete",loading:"Deleting",success:"Deleted",failed:"Try Again"}[m]})||Object(o.jsx)(o.Fragment,{})}},72:function(e,t,n){},78:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.94fd0f0a.chunk.js.map