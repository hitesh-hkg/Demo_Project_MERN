{"version":3,"sources":["features/counter/counterAPI.js","features/counter/counterSlice.js","features/counter/Counter.js","features/products/productApi.js","features/products/productSlice.js","components/DeleteProduct.js","components/EditProduct.js","components/ProductCard.js","features/products/Home.js","features/products/ProductDetails.js","features/user/UserNav.js","components/Logout.js","components/SearchBar.js","components/Navbar.js","features/products/SearchProducts.js","features/products/validation.js","features/products/AddProduct.js","features/products/EditProductPage.js","features/user/LoginPage.js","features/user/SignUpPage.js","App.js","app/store.js","serviceWorker.js","index.js","features/user/userApi.js","features/counter/Counter.module.css","features/user/userSlice.js","features/user/validation.js","features/user/EditUserPage.js","features/user/UserDetailsPage.js","components/EditUser.js","components/DeleteUser.js"],"names":["fetchCount","amount","Promise","resolve","setTimeout","data","incrementAsync","createAsyncThunk","a","response","counterSlice","createSlice","name","initialState","value","status","reducers","increment","state","decrement","incrementByAmount","action","payload","extraReducers","builder","addCase","pending","fulfilled","actions","selectCount","counter","Counter","count","useSelector","dispatch","useDispatch","useState","incrementAmount","setIncrementAmount","incrementValue","Number","className","styles","row","button","onClick","textbox","onChange","e","target","asyncButton","getState","searchProducts","term","axios","get","fetchProductDetailsById","pid","createProduct","auth","post","updateProduct","put","deleteProduct","delete","getProducts","_","rejectWithValue","res","console","log","updateDB","createAction","getSample","getDetails","getSearchResults","addProduct","user","editProduct","removeProduct","productSlice","products","sample","productDetails","addedProduct","editedProduct","reload","lastUpdate","Date","now","home","errors","details","search","edit","fetchAll","unmountAdd","unmountDelete","unmountEdit","unmountHome","unmountDetails","unmountSearch","setReload","rejected","error","product","selectHome","selectSampleProducts","selectDetails","selectProductDetails","selectSearchHome","selectSearchProducts","selectAddProduct","selectAddedProduct","selectEdit","selectEditedProduct","selectReload","DeleteProduct","Auth","selectAuthStatus","selectUser","config","selectAuth","nav","useNavigate","setStatus","refresh","setRefresh","useEffect","checkAuth","type","disabled","then","catch","idle","loading","success","failed","EditProduct","url","ProductCard","role","classNmae","to","src","img","alt","class","category","price","Home","map","id","ProductDetails","props","useParams","width","desc","UserNav","Logout","selectUserReload","logoutUser","SearchBar","searchRef","useRef","handleSearch","preventDefault","current","onSubmit","ref","placeholder","Navbar","SearchProducts","catExp","productUpdateValidation","values","err","length","test","toString","isNaN","productCreateValidation","AddProduct","changed","submit","setState","imgUp","setImg","imgFile","setImgFile","handleChange","s","handleSubmit","FormData","document","querySelector","set","entries","pair","encType","method","htmlFor","style","color","successcategory","display","files","URL","createObjectURL","EditProductPage","getStatus","p","pro","im","Object","forEach","k","v","append","pricee","LoginPage","email","password","selectLogin","unmountLogin","loginValidation","setUser","SignUpPage","selectAddUser","phone","unmountSignUp","signupValidation","addUser","App","path","element","UserDetailsPage","EditUserPage","store","configureStore","reducer","counterReducer","productReducer","userReducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","getElementById","navigator","serviceWorker","ready","registration","unregister","fetchUserDetails","signup","login","updateUser","deleteUser","isAuth","fetchImg","module","exports","JSON","parse","localStorage","getItem","headers","accessToken","getUserDetails","editUser","removeUser","userSlice","authStatus","getAuth","removeItem","userImg","setUserReload","setItem","stringify","selectEditUser","selectEditedUser","editedUser","emailExp","passExp","userUpdateValidation","Buffer","shallowEqual","EditUser","DeleteUser"],"mappings":"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","file":"static/js/main.94fd0f0a.chunk.js","sourcesContent":["// A mock function to mimic making an async request for data\nexport function fetchCount(amount = 1) {\n  return new Promise((resolve) =>\n    setTimeout(() => resolve({ data: amount }), 500)\n  );\n}\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { fetchCount } from './counterAPI';\n\nconst initialState = {\n  value: 0,\n  status: 'idle',\n};\n\n// The function below is called a thunk and allows us to perform async logic. It\n// can be dispatched like a regular action: `dispatch(incrementAsync(10))`. This\n// will call the thunk with the `dispatch` function as the first argument. Async\n// code can then be executed and other actions can be dispatched. Thunks are\n// typically used to make async requests.\nexport const incrementAsync = createAsyncThunk(\n  'counter/fetchCount',\n  async (amount) => {\n    const response = await fetchCount(amount);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const counterSlice = createSlice({\n  name: 'counter',\n  initialState,\n  // The `reducers` field lets us define reducers and generate associated actions\n  reducers: {\n    increment: (state) => {\n      // Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n      // doesn't actually mutate the state because it uses the Immer library,\n      // which detects changes to a \"draft state\" and produces a brand new\n      // immutable state based off those changes\n      state.value += 1;\n    },\n    decrement: (state) => {\n      state.value -= 1;\n    },\n    // Use the PayloadAction type to declare the contents of `action.payload`\n    incrementByAmount: (state, action) => {\n      state.value += action.payload;\n    },\n  },\n  // The `extraReducers` field lets the slice handle actions defined elsewhere,\n  // including actions generated by createAsyncThunk or in other slices.\n  extraReducers: (builder) => {\n    builder\n      .addCase(incrementAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(incrementAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.value += action.payload;\n      });\n  },\n});\n\nexport const { increment, decrement, incrementByAmount } = counterSlice.actions;\n\n// The function below is called a selector and allows us to select a value from\n// the state. Selectors can also be defined inline where they're used instead of\n// in the slice file. For example: `useSelector((state: RootState) => state.counter.value)`\nexport const selectCount = (state) => state.counter.value;\n\n// We can also write thunks by hand, which may contain both sync and async logic.\n// Here's an example of conditionally dispatching actions based on current state.\nexport const incrementIfOdd = (amount) => (dispatch, getState) => {\n  const currentValue = selectCount(getState());\n  if (currentValue % 2 === 1) {\n    dispatch(incrementByAmount(amount));\n  }\n};\n\nexport default counterSlice.reducer;\n","import React, { useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  decrement,\n  increment,\n  incrementByAmount,\n  incrementAsync,\n  incrementIfOdd,\n  selectCount,\n} from './counterSlice';\nimport styles from './Counter.module.css';\n\nexport function Counter() {\n  const count = useSelector(selectCount);\n  const dispatch = useDispatch();\n  const [incrementAmount, setIncrementAmount] = useState('2');\n\n  const incrementValue = Number(incrementAmount) || 0;\n\n  return (\n    <div>\n      <div className={styles.row}>\n        <button\n          className={styles.button}\n          aria-label=\"Decrement value\"\n          onClick={() => dispatch(decrement())}\n        >\n          -\n        </button>\n        <span className={styles.value}>{count}</span>\n        <button\n          className={styles.button}\n          aria-label=\"Increment value\"\n          onClick={() => dispatch(increment())}\n        >\n          +\n        </button>\n      </div>\n      <div className={styles.row}>\n        <input\n          className={styles.textbox}\n          aria-label=\"Set increment amount\"\n          value={incrementAmount}\n          onChange={(e) => setIncrementAmount(e.target.value)}\n        />\n        <button\n          className={styles.button}\n          onClick={() => dispatch(incrementByAmount(incrementValue))}\n        >\n          Add Amount\n        </button>\n        <button\n          className={styles.asyncButton}\n          onClick={() => dispatch(incrementAsync(incrementValue))}\n        >\n          Add Async\n        </button>\n        <button\n          className={styles.button}\n          onClick={() => dispatch(incrementIfOdd(incrementValue))}\n        >\n          Add If Odd\n        </button>\n      </div>\n    </div>\n  );\n}\n","import axios from \"axios\";\n\n\nexport const fetchProducts = () => {\n    return axios.get(\"http://localhost:5000/products\");\n};\nexport const fetchSample = () => {\n    console.log(\"iutgl\");\n    return axios.get(\"http://localhost:5000/sample\");\n};\nexport const searchProducts = (term) => {\n    return axios.get(`http://localhost:5000/products/${term}`);\n};\nexport const fetchProductDetailsById = (pid) => {\n    return axios.get(`http://localhost:5000/products/${pid}/details`);\n};\nexport const createProduct = (data,auth) => {\n    return axios.post(`http://localhost:5000/products`,data,auth);\n};\nexport const updateProduct = (data,auth) => {\n    return axios.put(`http://localhost:5000/products`,data,auth);\n};\nexport const deleteProduct = (pid,auth) => {\n    return axios.delete(`http://localhost:5000/products/${pid}`,auth);\n};","import { createAction, createAsyncThunk, createSlice, isRejectedWithValue } from \"@reduxjs/toolkit\";\nimport { fetchProducts, fetchSample, fetchProductDetailsById, searchProducts, createProduct, updateProduct, deleteProduct } from \"./productApi\";\n\n\nexport const getProducts = createAsyncThunk(\n    'products/getProducts',\n    async(_,{rejectWithValue})=>{\n        try{\n            let res = await fetchProducts();\n            console.log(res.data);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data)\n        }\n    }\n);\n\n\nexport const updateDB = createAction('products/lastUpdate');\n\n\nexport const getSample = createAsyncThunk(\n    'products/getSample',\n    async(_,{rejectWithValue})=>{\n        try{\n            let res = await fetchSample();\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const getDetails = createAsyncThunk(\n    'products/getDetails',\n    async(pid,{rejectWithValue})=>{\n        try{\n            let res = await fetchProductDetailsById(pid);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }  \n    }\n);\n\n\nexport const getSearchResults = createAsyncThunk(\n    'products/getSearchResults',\n    async(term,{rejectWithValue})=>{\n        try{\n            let res = await searchProducts(term);\n            return res.data;    \n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const addProduct = createAsyncThunk(\n    'products/addProduct',\n    async(data,{getState,rejectWithValue})=>{\n        try{\n            let res = await createProduct(data,getState().user.auth);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const editProduct = createAsyncThunk(\n    'products/editProduct',\n    async(data,{getState,rejectWithValue})=>{\n        try{\n            let res = await updateProduct(data,getState().user.auth);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data)\n        }\n    }\n);\n\n\nexport const removeProduct = createAsyncThunk(\n    'products/removeProduct',\n    async(pid,{getState,rejectWithValue})=>{\n        try{\n            let res = await deleteProduct(pid,getState().user.auth);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const productSlice = createSlice({\n    name:\"products\",\n    initialState:{\n        products : null,\n        sample: null,\n        productDetails:null,\n        searchProducts:null,\n        addedProduct:null,\n        editedProduct:null,\n        reload:false,\n        lastUpdate:Date.now(),\n        home:{\n            status:'idle',\n            errors:null\n        },\n        details:{\n            status:'idle',\n            errors:null\n        },\n        search:{\n            status:'idle',\n            errors:null\n        },\n        addProduct:{\n            status:'idle',\n            errors:null\n        },\n        edit:{\n            status:'idle',\n            errors:null\n        },\n        delete:{\n            status:'idle',\n            errors:null\n        },\n        fetchAll:false\n    },\n    reducers : {\n        unmountAdd: state =>{\n            state.addProduct={\n                status:\"idle\",\n                errors:null\n            }\n            state.addedProduct=null;\n        },\n        unmountDelete: state =>{\n            state.delete={\n                status:\"idle\",\n                errors:null\n            };\n        },\n        unmountEdit: state =>{\n            state.details={\n                status:\"idle\",\n                errors:null\n            }\n            state.productDetails=null;\n            state.edit={\n                status:\"idle\",\n                errors:null\n            }\n            state.editedProduct=null;\n        },\n        unmountHome: state =>{\n            state.home={\n                status:\"idle\",\n                errors:null\n            }\n            state.sample=null;\n        },\n        unmountDetails: state =>{\n            state.details={\n                status:\"idle\",\n                errors:null\n            }\n            state.productDetails=null;\n        },\n        unmountSearch: state =>{\n            state.search={\n                status:\"idle\",\n                errors:null\n            }\n            state.searchProducts=null;\n        },\n        setReload: state => {\n            state.reload = !state.reload;\n        }\n    },\n    extraReducers: builder =>{\n        builder\n        .addCase(getProducts.pending,(state)=>{\n            state.home.status = 'loading';\n            state.home.errors = null;\n        })\n        .addCase(getProducts.fulfilled,(state,action)=>{\n            state.home.status = 'success';\n            state.products = action.payload.data;\n            state.home.errors = null;\n        })\n        .addCase(getProducts.rejected,(state,action)=>{\n            state.home.status = 'failed';\n            state.home.errors = action.error;\n        })\n        .addCase(getSample.pending,(state)=>{\n            state.home.status = 'loading';\n            state.home.errors = null;\n        })\n        .addCase(getSample.fulfilled,(state,action)=>{\n            state.home.status = 'success';\n            state.sample = action.payload.data;\n            state.home.errors = null;\n        })\n        .addCase(getSample.rejected,(state,action)=>{\n            state.home.status = 'failed';\n            state.home.errors = action.error;\n        })\n        .addCase(getDetails.pending,(state)=>{\n            state.details.status = 'loading';\n            state.details.errors = null;\n        })\n        .addCase(getDetails.fulfilled,(state,action)=>{\n            state.details.status = 'success';\n            state.productDetails = action.payload.data;\n            state.details.errors = null;\n        })\n        .addCase(getDetails.rejected,(state,action)=>{\n            state.details.status = 'failed';\n            state.details.errors = action.error;\n        })\n        .addCase(getSearchResults.pending,(state)=>{\n            state.search.status = 'loading';\n            state.search.errors = null;\n        })\n        .addCase(getSearchResults.fulfilled,(state,action)=>{\n            state.search.status = 'success';\n            state.searchProducts = action.payload.data;\n            state.search.errors = null;\n        })\n        .addCase(getSearchResults.rejected,(state,action)=>{\n            state.search.status = 'failed';\n            state.search.errors = action.error;\n        })\n        .addCase(addProduct.pending,(state)=>{\n            state.addProduct.status = 'loading';\n            state.addProduct.errors = null;\n        })\n        .addCase(addProduct.fulfilled,(state,action)=>{\n            state.addProduct.status = 'success';\n            state.addedProduct = action.payload.product;\n            state.addProduct.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(addProduct.rejected,(state,action)=>{\n            state.addProduct.status = 'failed';\n            state.addProduct.errors = action.error;\n        })\n        .addCase(editProduct.pending,(state)=>{\n            state.edit.status = 'loading';\n            state.edit.errors = null;\n        })\n        .addCase(editProduct.fulfilled,(state,action)=>{\n            state.edit.status = 'success';\n            state.editedProduct = action.payload.product;\n            state.edit.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(editProduct.rejected,(state,action)=>{\n            state.edit.status = 'failed';\n            state.edit.errors = action.error;\n        })\n        .addCase(removeProduct.pending,(state,action)=>{\n            state.delete.status = 'loading';\n            state.delete.errors = null;\n        })\n        .addCase(removeProduct.fulfilled,(state,action)=>{\n            state.delete.status = 'success';\n            state.delete.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(removeProduct.rejected,(state,action)=>{\n            state.delete.status = 'failed';\n            state.delete.errors = action.error;\n        })\n        .addCase(updateDB,(state,action)=>{\n            state.lastUpdate=Date.now();\n        })\n    }\n});\n\nexport const {unmountAdd,unmountDelete,unmountDetails,unmountEdit,unmountHome,unmountSearch,setReload} = productSlice.actions;\nexport const selectAllProducts = (state) => state.products.products;\nexport const selectHome = (state) => state.products.home;\nexport const selectSampleProducts = (state) => state.products.sample;\nexport const selectDetails = (state) => state.products.details;\nexport const selectProductDetails = (state) => state.products.productDetails;\nexport const selectSearchHome = (state) => state.products.search;\nexport const selectSearchProducts = (state) => state.products.searchProducts;\nexport const selectAddProduct = (state) => state.products.addProduct;\nexport const selectAddedProduct = (state) => state.products.addedProduct;\nexport const selectEdit = (state) => state.products.edit;\nexport const selectEditedProduct = (state) => state.products.editedProduct;\nexport const selectDelete = (state) => state.products.delete;\nexport const selectReload = (state) => state.products.reload;\n\nexport default productSlice.reducer;","import { useDispatch, useSelector } from \"react-redux\";\nimport { selectReload, setReload } from \"../features/products/productSlice\";\nimport { deleteProduct } from \"../features/products/productApi\";\nimport { useEffect, useState } from \"react\";\nimport { checkAuth, selectAuth, selectAuthStatus, selectUser } from \"../features/user/userSlice\";\nimport { useNavigate } from \"react-router\";\n\n\nconst DeleteProduct = ({pid}) => {\n    let Auth = useSelector(selectAuthStatus);\n    let user = useSelector(selectUser);\n    let config = useSelector(selectAuth);\n    let dispatch = useDispatch();\n    let nav = useNavigate();\n    let [status,setStatus] = useState('idle');\n    let statusMap = {\n        idle:\"Delete\",\n        loading:\"Deleting\",\n        success:\"Deleted\",\n        failed:\"Try Again\"\n    };\n    let reload = useSelector(selectReload);\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n    useEffect(()=>{\n        if(reload!=refresh){setRefresh(reload);setStatus('idle')};\n    },[reload,refresh,setStatus,setRefresh]);\n   \n    useEffect(()=>{\n        if(status=='success')dispatch(setReload());\n    },[status,dispatch]);\n\n\n    const handleDelete = (e)=>{\n        setStatus('loading');\n        if(Auth=='idle'||Auth=='failed'||(!config))nav('/login');\n        else {\n            deleteProduct(pid,config).then((res)=>{\n            if(res.status >=200 && res.status<300) setStatus('success');\n        }).catch((e)=>{setStatus('failed')});\n    }\n    }\n    return (Auth=='success' && <button type=\"button\" className=\"btn btn-danger h-full w-full flex-fill m-0 p-1\" disabled={status=='loading' || status == 'success'} onClick={(e)=>handleDelete(e)}>{statusMap[status]}</button>)||(<></>)\n}\n\nexport default DeleteProduct;","import { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\"\nimport { selectAuthStatus } from \"../features/user/userSlice\";\nconst EditProduct = ({pid}) => {\n    let Auth = useSelector(selectAuthStatus);\n    const nav = useNavigate();\n    const url = `/products/${pid}/edit`;\n    const handleClick = ()=>{\n        nav(url);\n    }\n    return (Auth=='success' && <button type=\"button\" className=\"btn btn-success h-full w-full flex-fill m-0 p-1\" onClick={handleClick}>Edit Product</button>)||(<></>)\n}\n\nexport default EditProduct;","import { useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { selectAuthStatus, selectUser } from \"../features/user/userSlice\";\nimport DeleteProduct from \"./DeleteProduct\";\nimport EditProduct from \"./EditProduct\";\n\n\nconst ProductCard = ({product}) => {\n    let Auth = useSelector(selectAuthStatus);\n    let user = useSelector(selectUser);\n    return<div className={`d-flex flex-row align-middle justify-content-center flex-lg-column card ProductCard flex-fill ${Auth=='succes' && user.role=='Admin'?'row-cols-3':'row-cols-2'} row-cols-lg-1`}>\n            <div className='d-inline-block flex-grow-1 col align-middle justify-content-center card-header'>\n                <Link classNmae='align-middle justify-content-center row'to={`/products/${product.pid}/details`}>\n                    <img  className=\"col img-fluid align-middle justify-content-center  card-img-top\" src={product.img} alt={`${product.name}`}/>\n                </Link>\n            </div>\n            <div className=\"d-inline-block col align-middle justify-content-center card-body\">\n                    <h5 className=\"card-title\">{product.name}</h5>\n                    <p class=\"card-text\">{product.category}</p>\n                    <p class=\"card-text badge bg-warning\">{product.price}</p>\n            </div>\n            {Auth=='success' && user.role=='Admin' && <div className='d-inline-block col align-middle justify-content-center card-footer'>\n                <div className='row row-cols-1 row-cols-lg-2'>\n                    <div className='col d-flex'><EditProduct pid={product.pid}/></div>\n                    <div className='col d-flex'><DeleteProduct pid={product.pid}/></div>\n                </div>\n            </div>}\n        </div>\n}\n\nexport default ProductCard;","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"\nimport ProductCard from \"../../components/ProductCard\";\nimport { checkAuth, selectAuthStatus } from \"../user/userSlice\";\nimport { selectSampleProducts, selectHome, getSample, unmountHome, selectReload } from \"./productSlice\";\n\n\nexport const Home = ()=>{\n    const dispatch = useDispatch();\n    const products = useSelector(selectSampleProducts);\n    let Auth = useSelector(selectAuthStatus);\n    const reload = useSelector(selectReload);\n    const {status,error} = useSelector(selectHome);\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(status=='idle')\n        {\n            dispatch(getSample());\n        }\n        if(status == 'success') return () => dispatch(unmountHome());\n    },[dispatch,status]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountHome());\n    },[reload,refresh]);\n\n\n   \n    return <div className=\"Home container\">\n        {\n            (status=='loading' && <div>Loading....</div>)||\n            (status=='success' && products && <div class='container row row-cols-1 row-cols-md-2 row-cols-lg-3 d-flex'>{products.map((product,id)=><div className='col d-flex'><ProductCard product={product} key={product.pid}/></div>)}</div>)||\n            (status=='failed' && <div>Error....</div>)\n        }\n    </div>\n}","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useParams } from \"react-router-dom\";\nimport  EditProduct from \"../../components/EditProduct\";\nimport  DeleteProduct  from \"../../components/DeleteProduct\";\nimport { getDetails, selectDetails, selectProductDetails, selectReload, unmountDetails } from \"./productSlice\";\n\n\nexport const ProductDetails = (props) => {\n    const {pid} = useParams();\n    const dispatch = useDispatch();\n    const product = useSelector(selectProductDetails);\n    const {status,errors} = useSelector(selectDetails);\n    let reload = useSelector(selectReload);\n    let [refresh,setRefresh] = useState(null);\n    console.log(product);\n    useEffect(()=>{\n        refresh = reload;\n    },[]);\n\n\n    useEffect(()=>{\n        if(status == 'idle' )dispatch(getDetails(pid));\n        if(status=='success'){\n            return ()=>dispatch(unmountDetails());\n        }\n    },[dispatch,status]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountDetails());\n    },[reload,refresh]);\n   \n    console.log(status,errors);\n    return <>{\n            (status=='loading' && <div>Loading....</div>)||\n            (status=='success' && (product &&\n            <div className=\"ProductPage container my-auto\">\n                <div className = 'd-flex flex-column my-auto row-cols-1 align-items-center'>\n                    <div className='col'>\n                        <div className='row row-cols-1 row-cols-lg-2'>\n                            <div className='col'><img src={`http://localhost:5000/products/${product.pid}/image`} alt={`${product.name}`} width=\"300px\"/></div>\n                            <div className='col my-auto align-items-center'>\n                                <div><h3>Name:{product.name}</h3></div>\n                                <div><h5>Category:{product.category}</h5></div>\n                                <div><h4>Price:{product.price}</h4></div>\n                                <div><h6>{product.desc}</h6></div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className='row row-cols-1 row-cols-lg-2'>\n                        <div className='d-inline-flex'><EditProduct pid={product.pid}/></div>\n                        <div className='d-inline-flex'><DeleteProduct pid={product.pid}/></div>\n                    </div>\n                </div>\n            </div>) || <div>No Such Product found<Link to='/Home'><button type='button' className='btn btn-sm btn-dark'>Go to Home</button></Link></div>) ||\n            (status=='failed' && <div>Error....</div>)\n    }</>\n}","import {  useSelector } from \"react-redux\"\nimport {  NavLink } from \"react-router-dom\";\nimport { selectUser } from \"./userSlice\";\n\n\nconst UserNav = () => {\n    const user = useSelector(selectUser);\n    return (user && <NavLink to='/user/details'>\n        <button className='btn btn-warning btn-sm'> {user.name}</button>\n    </NavLink>)||((!user) && <div>No User</div>)\n}\nexport default UserNav;","import { useDispatch, useSelector } from \"react-redux\";\nimport { checkAuth, logoutUser, selectUser, selectUserReload, setUserReload } from \"../features/user/userSlice\";\nimport { useEffect, useState } from \"react\";\nimport { selectAuthStatus } from \"../features/user/userSlice\";\n\n\nconst Logout = () => {\n    let Auth = useSelector(selectAuthStatus);\n    let dispatch = useDispatch();\n    let user = useSelector(selectUser);\n    let reload = useSelector(selectUserReload);\n    let [status,setStatus]=useState('idle');\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh){setRefresh(reload);setStatus('idle')};\n    },[reload,refresh,setRefresh]);\n\n\n    const handleLogout = (e)=>{\n        setStatus('loading');\n        dispatch(logoutUser());\n    }\n    return (Auth=='success' && <button type=\"button\" className=\"btn btn-danger h-full w-full flex-fill m-0 p-1\" disabled={Auth!='success'} onClick={(e)=>handleLogout(e)}>logout</button>)||(<></>);\n}\n\nexport default Logout;","import { useRef } from 'react';\nimport { useDispatch } from 'react-redux';\nimport {useNavigate} from 'react-router-dom';\nimport { unmountSearch } from '../features/products/productSlice';\n\n\nconst SearchBar = () => {\n    let searchRef = useRef();\n    let dispatch = useDispatch();\n    const nav = useNavigate();\n    const handleSearch = (e) => {\n        e.preventDefault();\n        dispatch(unmountSearch());\n        nav(`/products/${searchRef.current.value}`);\n    }\n    return <form className=\"SearchBar form-inline\" id=\"searchForm\" onSubmit={(e)=>handleSearch(e)}>\n            <div className='input-group'>\n                <input type=\"search\" className=\"form-control b-0\" ref={searchRef} placeholder=\"Enter search query\"/>\n                <button type=\"submit\" className=\"btn btn-outline btn-warning\" onClick={(e)=>handleSearch(e)}>search</button>\n            </div>\n        </form>;\n};\n\nexport default SearchBar;","import { useEffect, useState } from \"react\";\nimport { shallowEqual, useSelector } from \"react-redux\";\nimport { NavLink } from \"react-router-dom\";\nimport UserNav from \"../features/user/UserNav\";\nimport { selectAuthStatus,selectUser } from \"../features/user/userSlice\";\nimport Logout from \"./Logout\";\nimport SearchBar from \"./SearchBar\";\nexport const Navbar = ()=>{\n    let Auth = useSelector(selectAuthStatus);\n    let user = useSelector(selectUser);\n    return <nav class=\"Navbar navbar navbar-expand-lg bg-dark align-items-center navbar-dark\">\n    <div class=\"container-fluid align-items-center\">\n      <NavLink to='/home' className='navbar-brand'><span className='navbar-brand'>ProdPRO</span></NavLink>\n      <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarTogglerDemo02\" aria-controls=\"navbarTogglerDemo02\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n        <span class=\"navbar-toggler-icon\"></span>\n      </button>\n      <div class=\"collapse navbar-collapse align-items-center\" id=\"navbarTogglerDemo02\">\n        <ul class=\"navbar-nav align-items-center me-auto mb-2 mb-lg-0 w-100 text-warning\">\n            <li className=\"nav-item order-4 w-100 w-lg-50 d-inline mx-auto me-auto order-lg-0 center\"><SearchBar/></li>\n            <li className=\"nav-item order-0 order-lg-1\"><NavLink to=\"/home\" className=\"nav-link\">Home</NavLink></li>\n            {Auth=='success' && user.role=='Admin' &&<li className=\"nav-item order-1 order-lg-2\"><NavLink to=\"/add/products\" className=\"nav-link\">Add&nbsp;Products</NavLink></li>}\n            <li className=\"nav-item order-2 order-lg-3\">{Auth=='success'?<UserNav/>:<NavLink to=\"/login\" className=\"nav-link\">Login</NavLink>}</li>\n            <li className=\"nav-item order-3 order-lg-4\">{Auth=='success'?<Logout/>:<NavLink to=\"/signup\" className=\"nav-link\">Signup</NavLink>}</li>\n        </ul>\n      </div>\n    </div>\n  </nav>\n}","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\"\nimport { useParams } from \"react-router\";\nimport ProductCard from \"../../components/ProductCard\";\nimport {  selectSearchProducts, getSearchResults, selectSearchHome, unmountSearch, selectReload } from \"./productSlice\";\n\n\nexport const SearchProducts = ()=>{\n    const {term} = useParams()\n    const dispatch = useDispatch();\n    const products = useSelector(selectSearchProducts);\n    const {status,error} = useSelector(selectSearchHome);\n    let reload = useSelector(selectReload);\n    let [refresh,setRefresh] = useState(null);\n    useEffect(()=>{\n        refresh = reload;\n    },[]);\n\n\n    useEffect(()=>{\n        if(status=='idle')\n        {\n            dispatch(getSearchResults(term));\n        }\n        if(status=='success') {\n            return ()=>dispatch(unmountSearch());\n        }\n    },[dispatch,status]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountSearch());\n    },[reload,refresh]);\n\n\n    return <div className='container'>\n        {\n            (status=='loading' && <div>Loading....</div>)||\n            (status=='success' && products && <div class='container row row-cols-1 row-cols-md-2 row-cols-lg-3 d-flex'>{products.map((product,id)=><div className='col d-flex'><ProductCard product={product} key={product.pid}/></div>)}</div>)||\n            (status=='failed' && <div>Error....</div>)\n        }\n    </div>\n}","const catExp = /^([a-z0-9]+)(([\\s\\-\\_\\/\\\\]?[a-z0-9]+)*)$/i;\nexport const productUpdateValidation = ({values:state}) => {\n    let err = {\n        name:null,\n        category:null,\n        price:null,\n        desc:null,\n        status:false\n    };\n    if(!state.name || state.name==''){\n        if(state.name.length==0){\n            err.status|=true;\n            err.name = 'Name cannot be Empty'\n        }\n    }\n    if(state.category||state.category==''){\n        if(state.category.length==0){\n            err.status|=true;\n            err.category = 'Category cannot be Empty' \n        }\n        else if(!catExp.test(state.category)){\n            err.status|=true;\n            err.category= 'category can only contain Alphabets and Numbers seperated by space,_,\\\\,\\/ or -';\n        }\n    }\n    if(state.price||state.price==''){\n        if(state.price.toString().length==0){\n            err.status|=true;\n            err.price = 'Price cannot be Empty and should be a Number';\n        }\n        else if(isNaN(Number(state.price))){\n            err.status|=true;\n            err.price  = 'Price can only be a Number';\n        }\n    }\n    return err;\n};\nexport const productCreateValidation = ({values:state}) => {\n    let err = {\n        name:null,\n        category:null,\n        price:null,\n        desc:null,\n        status:false\n    };\n    if(!state.name||state.name.length==0){\n        err.status|=true;\n        err.name = 'Name cannot be Empty';\n    }\n    if(!state.category||state.category.length==0){\n        err.status|=true;\n        err.category = 'Category cannot be Empty';\n    }\n    else if(!catExp.test(state.category)){\n        err.status|=true;\n        err.category ='Category can only contain Alphabets and Numbers seperated by space,_,\\\\,\\/ or -';\n    }\n    if(!state.price){\n        err.status|=true;\n        err.price = 'Price cannot be Empty and should be a number';\n    }\n    else if(isNaN(Number(state.price))){\n        err.status|=true;\n        err.price = 'Price can only be a Number';\n    }\n    return err;\n}","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router\";\nimport ProductCard from \"../../components/ProductCard\";\nimport { checkAuth, getAuth, selectAuthStatus, selectUser } from \"../user/userSlice\";\nimport { addProduct, selectAddedProduct, selectAddProduct, selectReload, unmountAdd } from './productSlice';\nimport { productCreateValidation } from \"./validation\";\n\n\nconst AddProduct = () => {\n    let nav=useNavigate();\n    let dispatch = useDispatch();\n    let Auth = useSelector(selectAuthStatus);\n    let user = useSelector(selectUser);\n    let product = useSelector(selectAddedProduct);\n    let {status,error} = useSelector(selectAddProduct);\n    let reload = useSelector(selectReload);\n    let [refresh,setRefresh] = useState(null);\n    let statusMap = {\n        idle:\"Add\",\n        loading:\"Adding\",\n        success:\"Added\",\n        failed:\"Failed Adding\"\n    }\n    let [state,setState] = useState({\n       values: {\n            name : '',\n            category : '',\n            price : '',\n            desc : '' \n        },\n        err:{\n            name:null,\n            category:null,\n            price:null,\n            desc:null,\n            status:false\n        },\n        changed:{\n            name:false,\n            category:false,\n            price:false,\n            desc:false,\n        },\n        submit:false\n    });\n    let [imgUp,setImg] = useState(process.env.PUBLIC_URL+\"/logo192.png\");\n    let [imgFile,setImgFile] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(Auth=='idle' || Auth=='failed')nav('/login');\n    },[dispatch,Auth,nav]);\n\n\n    useEffect(()=>{\n        setState(e=>({...e,err:productCreateValidation(e)}));\n        if(status == 'success'||status=='failed')return () => {nav(`/products/${product.pid}/details`);dispatch(unmountAdd());}\n    },[setState,productCreateValidation,state.values])\n\n\n    useEffect(()=>{\n        if(status == 'success'||status=='failed')return () => {nav(`/products/${product.pid}/details`);dispatch(unmountAdd());}\n        else return ()=>console.log('unmount');\n    },[status,dispatch]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountAdd());\n    },[reload,refresh]);\n    const handleChange =(e)=>{\n        e.preventDefault();\n        console.log(e);\n        setState(s=>({...state,values:{...state.values,[e.target.name]:e.target.value},changed:{...state.changed,[e.target.name]:true}}));\n        console.log(state);\n    }\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        let data = new FormData(document.querySelector('#addProductForm'));\n        if(imgFile)data.set(\"productImg\",imgFile,imgFile.name);\n        else data.delete('productImg');\n        for (var pair of data.entries()) {\n            console.log(pair[0],pair[1]);\n        }\n        setState(s=>({...state,submit:true}));\n        if(!state.err.status)dispatch(addProduct(data));\n    }\n    return (Auth=='success' && <div className='AddProduct container justify-content-center align-items-center d-flex flex-column'>\n                    <h2 class='display-4 mt-4'>{statusMap[status]} Product:</h2>\n                    {((status==\"idle\"||status==\"loading\")&&<form encType=\"multipart/form-data\" id=\"addProductForm\" className = \"form w-75\" method=\"POST\" onSubmit={(e)=>{handleSubmit(e)}}>\n                        <div className=\"form-group my-1\">\n                            <label htmlFor=\"addProductName\">Name</label>\n                            <input id=\"addProductName\" className=\"form-control\" value={state.values.name}  name=\"name\" onChange={(e)=>handleChange(e)}/>    \n                            {((state.submit||state.changed.name) && state.err.name) && <p className='errLine' style={{color:'red'}}>{state.err.name}</p>}                \n                        </div>\n                        <div className=\"form-group my-1\">\n                            <label htmlFor=\"addProductCategory\">Category</label>\n                            <input id=\"addProductCategory\" className=\"form-control\"  name=\"category\" value={state.values.successcategory} onChange={(e)=>handleChange(e)}/>\n                            {((state.submit||state.changed.category) && state.err.category) && <p className='errLine' style={{color:'red'}}>{state.err.category}</p>}  \n                        </div>\n                        <div className=\"form-group my-1\">\n                            <label htmlFor=\"addProductPrice\">Price</label>\n                            <input id=\"addProductPrice\" type=\"number\" className=\"form-control\"  name=\"price\" value={state.values.price} onChange={(e)=>handleChange(e)}/>\n                            {((state.submit||state.changed.price) && state.err.price) && <p className='errLine' style={{color:'red'}}>{state.err.price}</p>}  \n                        </div>\n                        <div className=\"form-group my-1\">\n                            <label htmlFor=\"addProductDesc\">Description</label>\n                            <input id=\"addProductDesc\" className=\"form-control\"  name=\"desc\" value={state.values.desc} onChange={(e)=>handleChange(e)}/>\n                            {((state.submit||state.changed.desc) && state.err.desc) && <p className='errLine' style={{color:'red'}}>{state.err.desc}</p>}  \n                        </div>\n                        <div className=\"form-group my-1\">\n                            <label className=\"m-1\" htmlFor=\"img-upload\"><img name=\"preview\" className=\"img-responsive img-thumbnail\" src={imgUp} width=\"150px\"/>\n                            Click on the image to set new image</label>\n                        </div>\n                        <input id=\"img-upload\" name=\"productImg\" type=\"file\" style={{display:'none'}} onChange={(e)=>{setImgFile(e.target.files[0]);setImg(URL.createObjectURL(e.target.files[0]))}}/>\n                        <button className=\"btn btn-dark px-4 my-3\" type=\"submit\" disabled = {status=='pending'||state.err.status}>Submit</button>\n                        {status==\"failed\" && <p className='errLine'>{error}</p>  }\n                    </form>)}\n            </div> )||\n            (Auth=='loading' && <div>Waiting....</div>)\n}\n\nexport default AddProduct;","import { useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router\";\nimport { checkAuth, selectAuthStatus, selectUser } from \"../user/userSlice\";\nimport { editProduct, getDetails, selectDetails, selectEdit, selectEditedProduct, selectProductDetails, selectReload, unmountDetails, unmountEdit } from \"./productSlice\";\nimport { productUpdateValidation } from \"./validation\";\nexport const EditProductPage = ()=>{\n    let {pid} = useParams();\n    let dispatch = useDispatch();\n    let user = useSelector(selectUser);\n    let nav = useNavigate();\n    let Auth = useSelector(selectAuthStatus);\n    let product = useSelector(selectProductDetails);\n    let resultProduct = useSelector(selectEditedProduct);\n    let getStatus = useSelector(selectDetails);\n    let {status,errors} = useSelector(selectEdit);\n    let [state,setState] = useState({\n        values: null,\n         err:{\n             name:null,\n             category:null,\n             price:null,\n             desc:null,\n             status:false\n         },\n         changed:{\n             name:false,\n             category:false,\n             price:false,\n             desc:false,\n         },\n         submit:false\n     });\n    let [imgUp,setImg] = useState(null);\n    let [imgFile,setImgFile] = useState(null);\n    let reload = useSelector(selectReload);\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(Auth=='idle'||Auth=='failed')nav('/login');\n    },[dispatch,Auth]);\n\n\n    useEffect(()=>{\n        if(state.values)setState(p=> ({...p,err:{...p.err,...productUpdateValidation(p)}}));\n        if(status=='success'||status=='failed')return()=>{nav(`/products/${pid}/details`);dispatch(unmountEdit());}\n        console.log(state);\n    },[setState,state.values])\n\n\n    useEffect(()=>{\n        if(!state.values && getStatus.status=='idle')dispatch(getDetails(pid));\n        if(!state.values && product){\n            const {pid:pi ,img,...pro}=product;\n            setState(p=>({...p,values:{...p.values,...pro}}));\n            setImg(im=>img);\n        }\n        if(getStatus.status=='success'){\n            return ()=>dispatch(unmountDetails());\n        }\n        if(status=='success'||status=='failed')return()=>{nav(`/products/${pid}/details`);dispatch(unmountEdit());}\n    },[state,setState,product,setImg,getStatus.status,status]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountEdit());\n    },[reload,refresh]);\n\n\n    let statusMap = {\n        idle:\"Edit\",\n        loading:\"Updating\",\n        success:\"Updated\",\n        failed:\"Failed Updating\"\n    }\n\n\n    const handleChange =(e)=>{\n        e.preventDefault();\n        setState({...state,values:{...state.values,[e.target.name]:e.target.value},changed:{...state.changed,[e.target.name]:true}});\n    }\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        setState({...state,submit:true});\n        let data = new FormData();\n        data.set(\"pid\",pid.toString());\n        Object.entries(state).forEach(([k,v])=>data.append(k,v));\n        if(imgFile)data.set(\"productImg\",imgFile,imgFile.name);\n        else data.delete('productImg');\n        for (var pair of data.entries()) {\n            console.log(pair[0],pair[1]);\n        }\n        if(!state.err.status)dispatch(editProduct(data));\n    }\n    return (Auth=='success' && <div className='EditProductPage container'>\n        <h2>{statusMap[status]} Product:</h2>\n        {\n            (state.values && status==\"idle\" &&\n            <form encType=\"multipart/form-data\" id=\"editProductForm\" className = \"form m-1\" method=\"POST\" onSubmit={(e)=>{handleSubmit(e)}}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"editProductName\">Name</label>\n                    <input id=\"editProductName\" className=\"form-control\" value={state.values.name}  name=\"name\" onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.name) && state.err.name) && <p className='errLine' style={{color:'red'}}>{state.err.name}</p>}                \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"editProductCategory\">Category</label>\n                    <input id=\"editProductCategory\" className=\"form-control\"  name=\"category\" value={state.values.category} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.category) && state.err.category) && <p className='errLine' style={{color:'red'}}>{state.err.price}</p>}                \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"editProductPrice\">Price</label>\n                    <input id=\"editProductPrice\" type=\"number\" className=\"form-control\"  name=\"price\" value={state.values.price} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.price) && state.err.pricee) && <p className='errLine' style={{color:'red'}}>{state.err.price}</p>}                \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"editProductDesc\">Description</label>\n                    <input id=\"editProductDesc\" className=\"form-control\"  name=\"desc\" value={state.values.desc} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.desc) && state.err.desc) && <p className='errLine' style={{color:'red'}}>{state.err.desc}</p>}                \n                </div>\n                <div className=\"form-group\">\n                    <label className=\"m-1\" htmlFor=\"img-upload\"><img name=\"preview\" className=\"img-responsive img-thumbnail\" src={imgUp} width=\"150px\"/>\n                    Click on the image to set new image</label>\n                </div>\n                <input id=\"img-upload\" name=\"productImg\" type=\"file\" style={{display:'none'}} onChange={(e)=>{setImgFile(e.target.files[0]);setImg(URL.createObjectURL(e.target.files[0]))}}/>\n                <button className=\"btn btn-dark btn-block\" type=\"submit\" disabled={status=='pending'||state.err.status}>Submit</button>\n            </form>) ||\n            (((getStatus.status=='loading' && !state )|| status=='loading') && <div>Loading...</div>)||\n            (status=='failed' || getStatus.status==\"failed\" && <div>Error.....</div>)\n\n\n        }\n    </div>)||(Auth=='pending'&&<div>Waiting...</div>);\n}","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { setUser, selectUserReload, selectLogin, unmountLogin, checkAuth, selectAuthStatus, selectUser } from \"./userSlice\";\nimport { loginValidation } from \"./validation\";\nconst LoginPage= ()=>{\n    const dispatch = useDispatch();\n    const nav = useNavigate();\n    let Auth = useSelector(selectAuthStatus);\n    let user = useSelector(selectUser);\n    console.log(Auth);\n    const [state,setState] = useState({\n        values:{email:'',password:''},\n        err:{email:null,password:null,status:false},\n        changed:{email:false,password:false},\n        submit:false\n    });\n    const reload = useSelector(selectUserReload);\n    const {status,error} = useSelector(selectLogin);\n    let [refresh,setRefresh] = useState(null);\n    let statusMap = {\n        idle:\"Login\",\n        loading:\"Logging in\",\n        success:\"Logged in\",\n        failed:\"Failed Login\"\n    }\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    console.log(Auth,status);\n    useEffect(()=>{\n        if(Auth=='success'||status == 'success'){nav('/home');dispatch(unmountLogin());}\n        if(status=='success'||status=='failed')return ()=>{nav(`/home`);dispatch(unmountLogin());}\n    },[dispatch,nav,Auth,unmountLogin,status]);\n\n\n    useEffect(()=>{\n        if(state.values)setState(p=>({...p,err:{...loginValidation(p)}}));\n        if(status=='success'||status=='failed')return ()=>{nav(`/home`);dispatch(unmountLogin());}\n    },[state.values,setState,status,nav,dispatch,unmountLogin]);\n\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountLogin());\n    },[reload,refresh,unmountLogin,dispatch]);\n\n\n    const handleChange =(e)=>{\n        e.preventDefault();\n        setState(s=>({...state,values:{...s.values,[e.target.name]:e.target.value},changed:{...s.changed,[e.target.name]:true}}));\n    }\n\n\n    const handleSubmit = (e)=>{\n        e.preventDefault();\n        setState({...state,submit:true});\n        let data = new FormData(document.querySelector('#loginForm'));\n        if(!state.err.status)dispatch(setUser(data));\n    }\n\n\n   \n    return (Auth!='success' &&<div className=\"Login container d-flex flex-column align-items-center justify-content-center\">\n        <h2 className='display-4 mt-4'>{statusMap[status]}</h2>\n        {   ((status==\"idle\"||status==\"loading\")&&<form encType=\"multipart/form-data\" id=\"loginForm\" name=\"lofinF\" className = \"form w-75 m-1\" method=\"POST\" onSubmit={(e)=>{handleSubmit(e)}}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"setEmail\">Email</label>\n                    <input id=\"setEmail\" type='email' className=\"form-control\" value={state.values.email}  name=\"email\" onChange={(e)=>handleChange(e)}/>    \n                    {((state.submit||state.changed.email) && state.err.email) && <p className='errLine' style={{color:'red'}}>{state.err.email}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"setPassword\">Password</label>\n                    <input id=\"setPassword\" type='password' className=\"form-control\"  name=\"password\" value={state.values.password} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.password) && state.err.password) && <p className='errLine' style={{color:'red'}}>{state.err.password}</p>}  \n                </div>\n                <button className=\"btn btn-dark btn-block my-3 px-4\" type=\"submit\">Submit</button>\n            </form>) ||\n            (status==\"failed\" && <div>Error....</div>)\n        }\n    </div>)||(Auth=='success'||<div>Taking to Home....</div>)\n}\n\nexport default LoginPage;","import { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { addUser, checkAuth, selectAddUser,selectAuthStatus,selectUser,selectUserReload, unmountSignUp } from \"./userSlice\";\nimport { signupValidation } from \"./validation\";\n\n\nconst SignUpPage = () => {\n    let nav=useNavigate();\n    let dispatch = useDispatch();\n    let user = useSelector(selectUser);\n    let Auth = useSelector(selectAuthStatus);\n    let {status,error} = useSelector(selectAddUser);\n    let reload = useSelector(selectUserReload);\n    let [refresh,setRefresh] = useState(null);\n    let [state,setState] = useState({\n        values:{\n            email:null,\n            name:null,\n            password:null,\n            phone:null\n        },\n        err:{\n            email:null,\n            name:null,\n            password:null,\n            phone:null,\n            status:false\n        },\n        changed:{\n            email:false,\n            name:false,\n            password:false,\n            phone:false\n        },\n        submit:false\n    });\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(Auth=='success'||status == 'success'){nav('/login');dispatch(unmountSignUp());}\n    },[dispatch,nav,Auth,unmountSignUp,status]);\n\n\n    useEffect(()=>{\n        if(state.values)setState(p=>({...p,err:{...signupValidation(p)}}));\n        if(status=='success')return ()=>{nav(`/login`);dispatch(unmountSignUp());}\n    },[state.values,setState,signupValidation,status,nav,dispatch,unmountSignUp]);\n\n\n    useEffect(()=>{\n        if(status == 'success')return () => {nav(`/login`);dispatch(unmountSignUp());};\n    },[status,dispatch],nav,unmountSignUp);\n\n\n    useEffect(()=>{\n        if(reload!=refresh)dispatch(unmountSignUp());\n    },[reload,refresh,dispatch,unmountSignUp]);\n\n\n\n    let statusMap = {\n        idle:\"Sign Up\",\n        loading:\"Signing Up\",\n        success:\"Sign Up Successful\",\n        failed:\"Failed Sign Up\"\n    }\n\n\n    let [imgUp,setImg] = useState(process.env.PUBLIC_URL+\"/logo192.png\");\n    let [imgFile,setImgFile] = useState(null);\n    const handleChange =(e)=>{\n        e.preventDefault();\n        setState(s=>({...state,values:{...state.values,[e.target.name]:e.target.value},changed:{...state.changed,[e.target.name]:true}}));\n    }\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        setState({...state,submit:true});\n        let data = new FormData(document.querySelector('#signUpForm'));\n        if(imgFile)data.set(\"userImg\",imgFile,imgFile.name);\n        else data.delete('userImg');\n        for (var pair of data.entries()) {\n            console.log(pair[0],pair[1]);\n        }\n        if(!state.err.status)dispatch(addUser(data));\n    }\n    return (Auth!='success' && <div className='SignUpPage container'>\n        <h2>{statusMap[status]}:</h2>\n        {   ((status==\"idle\"||status==\"loading\")&&<form encType=\"multipart/form-data\" id=\"signUpForm\" className = \"EditProduct form-group m-1\" method=\"POST\" onSubmit={(e)=>{handleSubmit(e)}}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userName\">Name</label>\n                    <input id=\"userName\" className=\"form-control\" value={state.values.name}  name=\"name\" onChange={(e)=>handleChange(e)}/>    \n                    {((state.submit||state.changed.name) && state.err.name) && <p className='errLine' style={{color:'red'}}>{state.err.name}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userEmail\">Email</label>\n                    <input id=\"userEmail\" className=\"form-control\" value={state.values.email}  name=\"email\" onChange={(e)=>handleChange(e)}/>    \n                    {((state.submit||state.changed.email) && state.err.email) && <p className='errLine' style={{color:'red'}}>{state.err.email}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userPhone\">Phone</label>\n                    <input id=\"userPhone\" type=\"number\" className=\"form-control\"  name=\"phone\" value={state.values.phone} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.phone) && state.err.phone) && <p className='errLine' style={{color:'red'}}>{state.err.phone}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userPassword\">Password</label>\n                    <input id=\"userPassword\" type='password' className=\"form-control\"  name=\"password\" value={state.values.password} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.password) && state.err.password) && <p className='errLine' style={{color:'red'}}>{state.err.password}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label className=\"m-1\" htmlFor=\"img-upload\"><img name=\"preview\" className=\"img-responsive img-thumbnail\" src={imgUp} width=\"150px\"/>\n                    Click on the image to set new profile picture</label>\n                </div>\n                <input id=\"img-upload\" name=\"userImg\" type=\"file\" style={{display:'none'}} onChange={(e)=>{setImgFile(e.target.files[0]);setImg(URL.createObjectURL(e.target.files[0]))}}/>\n                <button className=\"btn btn-dark btn-block\" type=\"submit\" disabled={status=='loading'||state.err.status}>Submit</button>\n            </form>) ||\n            (status==\"failed\" && <div>Error....</div>)\n        }\n    </div>)||(<div>Taking to Login...</div>)\n}\n\nexport default SignUpPage;","import React from 'react';\nimport { Counter } from './features/counter/Counter';\nimport './App.css';\nimport { Home } from './features/products/Home';\nimport { BrowserRouter as Router, Routes, Route} from 'react-router-dom';\nimport { ProductDetails } from './features/products/ProductDetails';\nimport { Navbar } from './components/Navbar';\nimport { SearchProducts } from './features/products/SearchProducts';\nimport AddProduct from './features/products/AddProduct';\nimport { EditProductPage } from './features/products/EditProductPage';\nimport LoginPage from './features/user/LoginPage';\nimport SignUpPage from './features/user/SignUpPage';\nimport EditUserPage from './features/user/EditUserPage';\nimport UserDetailsPage from './features/user/UserDetailsPage';\n\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Router>\n        <Navbar/>\n        <Routes>\n          <Route path=\"/counter\" element={<Counter/>}/>\n          <Route path=\"/\" element={<Home/>}/>\n          <Route path=\"/home\" element={<Home/>}/>\n          <Route path=\"/login\" element={<LoginPage/>}/>\n          <Route path=\"/signup\" element={<SignUpPage/>}/>\n          <Route path=\"/user/details\" element={<UserDetailsPage/>}/>\n          <Route path=\"/user/edit\" element={<EditUserPage/>}/>\n          <Route path=\"/products/:term\" element={<SearchProducts/>}/>\n          <Route path=\"/products/:pid/details\" element={<ProductDetails/>}/>\n          <Route path=\"/add/products\" element={<AddProduct/>}/>\n          <Route path=\"/products/:pid/edit\" element={<EditProductPage/>}/>\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n\n\nexport default App;\n\n","import { configureStore } from '@reduxjs/toolkit';\nimport counterReducer from '../features/counter/counterSlice';\nimport productReducer from '../features/products/productSlice';  \nimport userReducer from '../features/user/userSlice';  \n\n\nexport const store = configureStore({\n  reducer: {\n    counter: counterReducer,\n    products: productReducer,\n    user: userReducer,\n  },\n});","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport 'bootstrap/dist/js/bootstrap';\nimport './index.css';\nimport App from './App';\nimport { store } from './app/store';\nimport { Provider } from 'react-redux';\nimport * as serviceWorker from './serviceWorker';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","import axios from \"axios\";\n\n\nexport const fetchUserDetails = (auth) => {\n    return axios.get(`http://localhost:5000/user/details`,auth);\n};\nexport const signup = (data) => {\n    return axios.post(`http://localhost:5000/signup`,data);\n};\nexport const login = (data) => {\n    return axios.post(`http://localhost:5000/login`,data);\n};\nexport const updateUser = (data,auth) => {\n    return axios.put(`http://localhost:5000/user`,data,auth);\n};\nexport const deleteUser = (auth) => {\n    console.log(auth);\n    return axios.delete(`http://localhost:5000/user`,auth);\n};\nexport const isAuth = (auth) => {\n    return axios.get('http://localhost:5000/auth',auth)\n}\nexport const fetchImg = (auth) => {\n    return axios.get('http://localhost:5000/user/image',auth);\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"row\":\"Counter_row__2I64B\",\"value\":\"Counter_value__2S2BT\",\"button\":\"Counter_button__2fbji\",\"textbox\":\"Counter_textbox__23QO1\",\"asyncButton\":\"Counter_asyncButton__36FuE Counter_button__2fbji\"};","import { createAction, createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport { fetchUserDetails, signup , login , updateUser, deleteUser, isAuth } from \"./userApi\";\n\n\nexport const updateDB = createAction('products/lastUpdate');\n\n\nexport const checkAuth = createAsyncThunk(\n    'user/checkAuth',\n    async(_,{rejectWithValue})=>{\n        try{\n            let user = JSON.parse(localStorage.getItem('user'));\n            let auth = {headers:{'x-access-token':user.accessToken}};\n            let res = await isAuth(auth);\n            return {user:user,auth:auth};\n        }catch(e){\n            return rejectWithValue({user:null,auth:null});\n        }\n    }\n);\n\n\nexport const getUserDetails = createAsyncThunk(\n    'user/getUserDetails',\n    async(_,{getState,rejectWithValue})=>{\n        try{\n            let res = await fetchUserDetails(getState().user.auth);\n            console.log(res);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const addUser = createAsyncThunk(\n    'user/addUser',\n    async(data,{rejectWithValue})=>{\n        try{\n            let res = await signup(data);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const editUser = createAsyncThunk(\n    'user/editUser',\n    async(data,{getState,rejectWithValue})=>{\n        try{\n            let res = await updateUser(data,getState().user.auth);\n            return res.data;\n        }catch(e){\n            return rejectWithValue(e.response.data);\n        }\n    }\n);\n\n\nexport const removeUser = createAsyncThunk(\n    'user/removeUser',\n    async(_,{getState})=>{\n        let res = await deleteUser(getState().user.auth);\n        console.log(res.data);\n        return res.data;\n    }\n);\n\n\nexport const setUser = createAsyncThunk(\n    'user/setUser',\n    async(data)=>{\n        let res = await login(data);\n        console.log(res.data);\n        return res.data;\n    }\n)\n\n\nexport const userSlice = createSlice({\n    name:\"products\",\n    initialState:{\n        user:null,\n        reload:false,\n        lastUpdate:Date.now(),\n        details:{\n            status:'idle',\n            errors:null\n        },\n        signup:{\n            status:'idle',\n            errors:null\n        },\n        edit:{\n            status:'idle',\n            errors:null\n        },\n        delete:{\n            status:'idle',\n            errors:null\n        },\n        login:{\n            status:'idle',\n            errors:null\n        },\n        authStatus:null,\n        auth:null\n    },\n    reducers : {\n        unmountSignUp: state =>{\n            state.signup={\n                status:\"idle\",\n                errors:null\n            }\n        },\n        unmountDelete: state =>{\n            state.delete={\n                status:\"idle\",\n                errors:null\n            };\n        },\n        unmountEdit: state =>{\n            state.edit={\n                status:\"idle\",\n                errors:null\n            }\n        },\n        unmountDetails: state =>{\n            state.details={\n                status:\"idle\",\n                errors:null\n            }\n        },\n        unmountLogin: state =>{\n            state.login={\n                status:\"idle\",\n                errors:null\n            }\n        },\n        getAuth: state =>{\n            if(localStorage.getItem('user'))state.auth =  {headers:{'x-access-token':JSON.parse(localStorage.getItem('token')).accessToken}};\n            else state.auth= null;\n        },\n        logoutUser: state => {\n            console.log('logout');\n            localStorage.removeItem('user');\n            state.authStatus='idle';\n            state.user = null;\n            state.userImg=null;\n            console.log(state);\n        },\n        setUserReload: state => {\n            state.reload = !state.reload;\n        }\n    },\n    extraReducers: builder =>{\n        builder\n        .addCase(getUserDetails.pending,(state)=>{\n            state.details.status = 'loading';\n            state.details.errors = null;\n        })\n        .addCase(getUserDetails.fulfilled,(state,action)=>{\n            state.details.status = 'success';\n            state.details.errors = null;\n        })\n        .addCase(getUserDetails.rejected,(state,action)=>{\n            state.details.status = 'failed';\n            state.details.errors = action.error;\n        })\n        .addCase(addUser.pending,(state)=>{\n            state.signup.status = 'loading';\n            state.signup.errors = null;\n        })\n        .addCase(addUser.fulfilled,(state,action)=>{\n            state.signup.status = 'success';\n            state.signup.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(addUser.rejected,(state,action)=>{\n            state.signup.status = 'failed';\n            state.signup.errors = action.error;\n        })\n        .addCase(editUser.pending,(state)=>{\n            state.edit.status = 'loading';\n            state.edit.errors = null;\n        })\n        .addCase(editUser.fulfilled,(state,action)=>{\n            state.edit.status = 'success';\n            state.edit.errors = null;\n            state.user = action.payload.user;\n            localStorage.setItem('user',JSON.stringify(action.payload.user));\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(editUser.rejected,(state,action)=>{\n            state.edit.status = 'failed';\n            state.edit.errors = action.error;\n        })\n        .addCase(setUser.pending,(state)=>{\n            state.login.status = 'loading';\n            state.login.errors = null;\n            state.auth=null;\n            state.authStatus='loading';\n        })\n        .addCase(setUser.fulfilled,(state,action)=>{\n            state.login.status = 'success';\n            state.user = action.payload.user;\n            state.login.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n            if(action.payload.user.accessToken)\n            {\n                localStorage.setItem('user',JSON.stringify(action.payload.user));\n                state.auth = {headers:{'x-access-token':action.payload.user.accessToken}};\n                state.authStatus='success';\n            }\n        })\n        .addCase(setUser.rejected,(state,action)=>{\n            state.login.status = 'failed';\n            state.login.errors = action.error;\n            state.auth=null;\n            state.authStatus='failed';\n        })\n        .addCase(removeUser.pending,(state,action)=>{\n            state.delete.status = 'loading';\n            state.delete.errors = null;\n        })\n        .addCase(removeUser.fulfilled,(state,action)=>{\n            state.user=null;\n            state.authStatus='idle';\n            state.auth = null;\n            localStorage.removeItem('user');\n            state.delete.status = 'success';\n            state.delete.errors = null;\n            state.reload = !state.reload;\n            state.lastUpdate = Date.now();\n        })\n        .addCase(removeUser.rejected,(state,action)=>{\n            state.delete.status = 'failed';\n            state.delete.errors = action.error;\n        })\n        .addCase(updateDB,(state,action)=>{\n            state.lastUpdate=Date.now();\n        })\n        .addCase(checkAuth.fulfilled,(state,action)=>{\n            state.authStatus='success';\n            state.auth = action.payload.auth;\n            state.user = action.payload.user;\n        })\n        .addCase(checkAuth.pending,(state,action)=>{\n            state.authStatus='loading';\n        })\n        .addCase(checkAuth.rejected,(state,action)=>{\n            state.authStatus='failed';\n            state.auth = null;\n            state.user = null;\n        })\n    }\n});\n\n\nexport const {unmountSignUp,unmountDelete,unmountDetails,unmountEdit,unmountLogin,setUserReload,getAuth,logoutUser} = userSlice.actions;\nexport const selectUser = (state) => state.user.user;\nexport const selectUserDetails = (state) => state.user.details;\nexport const selectAddUser = (state) => state.user.signup;\nexport const selectLogin = (state) => state.user.login;\nexport const selectEditUser = (state) => state.user.edit;\nexport const selectEditedUser = (state) => state.user.editedUser;\nexport const selectDelete = (state) => state.user.delete;\nexport const selectUserReload = (state) => state.user.reload;\nexport const selectAuth = (state) => state.user.auth;\nexport const selectAuthStatus = (state) => state.user.authStatus;\nexport default userSlice.reducer;","const emailExp = /^.*@.*\\..*$/;\nconst passExp = /^[a-z0-9\\s\\$\\_\\?\\&\\(\\)]{8,32}$/i;\n\n\nexport const signupValidation = ({values:state})=>{\n    let err = {\n        name:null,\n        email:null,\n        phone:null,\n        password:null,\n        status :false\n    }\n    if(!state.name || state.name.length==0)\n    {\n        err.status|=true;\n        err.name='name cannot be empty';\n       \n    }\n    if((!state.email) || state.email.length==0)\n    {\n        err.status|=true;\n        err.email = 'email is required';\n       \n    }\n    else if(!emailExp.test(state.email)){\n        err.status|=true;\n        err.email = 'enter a valid email address';\n    }\n    if(state.phone)\n    {\n        if((\"\"+state.phone).length==0){\n            err.status|=true;\n            err.phone=`phone cannot be empty`;      \n        }\n        else if(isNaN(state.phone)){\n            err.status|=true;\n            err.phone = `phone is invalid`;\n           \n        }\n        else if(state.phone<1000000000 || state.phone>9999999999){\n            err.status|=true;\n            err.phone = 'phone is invalid';\n           \n        }\n    }\n    if((!state.password) || state.password.length==0){\n        err.status|=true;\n        err.password = 'password is required';\n       \n    }\n    else if(state.password.length<8 || state.password.length>32){\n        err.status|=true;\n        err.password = 'password can only be between 8 to 32 characters long';\n       \n    }\n    else if(!passExp.test(state.password)){\n        err.status|=true;\n        err.password = 'password can only contain letters, digits,$,_,(,),? and &';\n       \n    }\n    return err;\n}\nexport const loginValidation = ({values:state})=>{\n    let err = {\n        email:null,\n        password:null,\n        status :false\n    }\n    if((!state.email) || state.email.length==0)\n    {\n        err.status|=true;\n        err.email = 'email is required';      \n    }\n    else if(!emailExp.test(state.email)){\n        err.status|=true;\n        err.email = 'enter a valid email address';  \n    }\n    if((!state.password) || state.password.length==0){\n        err.status|=true;\n        err.password = 'password is required';    \n    }\n    else if(state.password.length<8 || state.password.length>32){\n        err.status|=true;\n        err.password = 'password can only be between 8 to 32 characters long';  \n    }\n    else if(!passExp.test(state.password)){\n        err.status|=true;\n        err.password = 'password can only contain letters, digits,$,_,(,),? and &';    \n    }\n    return err;\n};\n\n\nexport const userUpdateValidation = ({values:state})=>{\n    let err = {\n        name:null,\n        phone:null,\n        password:null,\n        status :false\n    }\n    if(state.name=='' || state.name.length==0)\n    {\n        err.status|=true;\n        err.name = 'name cannot be empty';    \n    }\n    if(state.phone)\n    {\n        if((\"\"+state.phone).length==0){\n            err.status|=true;\n            err.phone = `phone is required`;  \n        }\n        else if(isNaN(state.phone)){\n            err.status|=true;\n            err.phone = `phone is invalid`;    \n        }\n        else if(state.phone<1000000000 || state.phone>9999999999){\n            err.status|=true;\n            err.phone = 'phone is invalid';\n        }\n    }\n    if(state.password)\n    {\n        if(state.password.length==0){\n            err.status|=true;\n            err.password = 'password is required';  \n        }\n        else if(state.password.length<8 && state.password.length>32){\n            err.status|=true;\n            err.password = 'password can only be between 8 to 32 characters long';    \n        }\n        else if(!passExp.test(state.password)){\n            err.status|=true;\n            err.password = 'password can only contain letters, digits,$,_,(,),? and &';  \n        }\n    }\n    console.log(state,err);\n    return err;\n};","import { useEffect, useState } from \"react\"\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { fetchImg } from \"./userApi\";\nimport { selectAuthStatus, selectUser, selectEditUser, selectEditedUser, selectUserReload ,checkAuth, unmountEdit, editUser, selectAuth} from \"./userSlice\";\nimport { userUpdateValidation } from \"./validation\";\n\n\nexport const EditUserPage = ()=>{\n    let dispatch = useDispatch();\n    let nav = useNavigate();\n    let Auth = useSelector(selectAuthStatus);\n    let config = useSelector(selectAuth);\n    let resultUser = useSelector(selectEditedUser);\n    let user = useSelector(selectUser);\n    let {status,errors} = useSelector(selectEditUser);\n    let [state,setState] = useState({\n        values:null,\n        err:{\n            name:null,\n            password:null,\n            phone:null,\n            status:false\n        },\n        changed:{\n            name:false,\n            password:false,\n            phone:false\n        },\n        submit:false\n    });\n    let [imgUp,setImg] = useState(null);\n    let [imgFile,setImgFile] = useState(null);\n    let reload = useSelector(selectUserReload);\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(Auth=='idle'||Auth=='failed')nav('/login');\n    },[dispatch,checkAuth]);\n\n\n    useEffect(()=>{\n        if(state.values)setState(p=>({...p,err:{...userUpdateValidation(p)}}));\n        if(status=='success'||status=='failed')return ()=>{dispatch(unmountEdit());nav(`/user/details`);}\n    },[state.values,setState]);\n\n\n    useEffect(()=>{\n        if(user && Auth=='success' && !state.values){\n            setState({...state,values:{name:user.name,phone:user.phone,password:''}});\n            fetchImg({...config,'responseType':'arraybuffer'}).then((res)=>{\n                    setImg(`data:${\n                        res.headers[\"content-type\"]\n                      };base64,${Buffer(res.data, \"binary\").toString(\"base64\")}`\n                     );\n                }).catch((e)=>setImg(null));\n        }\n        if(status=='success')return()=>{dispatch(unmountEdit());nav(`/user/details`);}\n    },[state,user,Auth,setState,setImg,status]);\n\n\n    useEffect(()=>{\n        console.log('here');\n        if(reload!=refresh)dispatch(unmountEdit());\n    },[reload,refresh]);\n\n\n    let statusMap = {\n        idle:\"Edit\",\n        loading:\"Updating\",\n        success:\"Updated\",\n        failed:\"Failed Updating\"\n    }\n\n\n    const handleChange =(e)=>{\n        e.preventDefault();\n        setState({...state,values:{...state.values,[e.target.name]:e.target.value},changed:{...state.changed,[e.target.name]:true}})\n    }\n    const handleSubmit = async(e) => {\n        e.preventDefault();\n        setState({...state,submit:true});\n        let data = new FormData(document.querySelector('#editUserForm'));\n        if(imgFile)data.set(\"userImg\",imgFile,imgFile.name);\n        else data.delete('userImg');\n        if((!state.values.name||state.values.name=='') && !state.changed.name)data.delete('name');\n        if((!state.values.password||state.values.password=='') && !state.changed.password)data.delete('password');\n        if((!state.values.phone||state.values.phone=='') && !state.changed.phone)data.delete('phone');\n        for (var pair of data.entries()) {\n            console.log(pair[0],pair[1]);\n        }\n        if(!state.err.status)dispatch(editUser(data));\n    }\n    return (Auth=='success' && state.values &&<div className='EditUserPage container'>\n        <h2>{statusMap[status]}:</h2>\n        {   ((status==\"idle\"||status==\"loading\")&&<form encType=\"multipart/form-data\" id=\"editUserForm\" className = \"EditProduct form-group m-1\" method=\"POST\" onSubmit={(e)=>{handleSubmit(e)}}>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userName\">Name</label>\n                    <input id=\"userName\" className=\"form-control\" value={state.values.name}  name=\"name\" onChange={(e)=>handleChange(e)}/>  \n                    {((state.submit||state.changed.name) && state.err.name) && <p className='errLine' style={{color:'red'}}>{state.err.name}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userPhone\">Phone</label>\n                    <input id=\"userPhone\" type=\"number\" className=\"form-control\"  name=\"phone\" value={state.values.phone} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.phone) && state.err.phone) && <p className='errLine' style={{color:'red'}}>{state.err.phone}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label htmlFor=\"userPassword\">Password</label>\n                    <input id=\"userPassword\" type='password' className=\"form-control\"  name=\"password\" value={state.values.password} onChange={(e)=>handleChange(e)}/>\n                    {((state.submit||state.changed.password) && state.err.password) && <p className='errLine' style={{color:'red'}}>{state.err.password}</p>}  \n                </div>\n                <div className=\"form-group\">\n                    <label className=\"m-1\" htmlFor=\"img-upload\"><img name=\"preview\" className=\"img-responsive img-thumbnail\" src={imgUp} width=\"150px\"/>\n                    Click on the image to set new profile picture</label>\n                </div>\n                <input id=\"img-upload\" name=\"userImg\" type=\"file\" style={{display:'none'}} onChange={(e)=>{setImgFile(e.target.files[0]);setImg(URL.createObjectURL(e.target.files[0]))}}/>\n                <button className=\"btn btn-dark btn-block\" type=\"submit\" disabled={status=='loading'||state.err.status}>Submit</button>\n            </form>) ||\n            (status==\"failed\" && <div>Error....</div>)\n        }\n    </div>)||(\n        Auth=='loading' && <div>Waiting....</div>\n    )\n}\n\nexport default EditUserPage;","import { useEffect, useRef, useState } from \"react\";\nimport { shallowEqual, useDispatch, useSelector } from \"react-redux\";\nimport {  useNavigate } from \"react-router-dom\";\nimport  EditUser from \"../../components/EditUser\";\nimport  DeleteUser  from \"../../components/DeleteUser\";\nimport { checkAuth,  selectAuth,  selectAuthStatus, selectUser, selectUserReload } from \"./userSlice\";\nimport axios from \"axios\";\nimport { fetchImg } from \"./userApi\";\n\n\nexport const UserDetailsPage = () => {\n    const dispatch = useDispatch();\n    const nav = useNavigate();\n    const Auth = useSelector(selectAuthStatus,shallowEqual);\n    const [userImg,setImg] = useState(null);\n    const config = useSelector(selectAuth);\n    const user = useSelector(selectUser);\n    let reload = useSelector(selectUserReload);\n    let refresh = useRef(null);\n    useEffect(()=>{\n        refresh.current = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n    console.log(Auth);\n    useEffect(async()=>{\n        if(Auth=='idle'||Auth=='failed')nav('/login');\n        if(Auth=='success' && config && !userImg){\n            fetchImg({...config,'responseType':'arraybuffer'}).then((res)=>{\n            console.log(res);\n                setImg(`data:${\n                    res.headers[\"content-type\"]\n                  };base64,${Buffer(res.data, \"binary\").toString(\"base64\")}`\n                 );\n            }).catch((e)=>setImg(null));\n        }\n    },[Auth,nav,userImg,setImg,fetchImg,config]);\n    console.log(user,Auth);\n\n\n    return (Auth=='success' && user && <div className='UserDetails container mt-4'>\n                <img src={userImg} alt={`${user.name}`} width=\"300px\"/>\n                <h3>Name:{user.name}</h3>\n                <h5>Role:{user.role}</h5>\n                <h4>Phone:{user.phone}</h4>\n                <h4>Email:{user.email}</h4>\n                <EditUser/>\n                <DeleteUser/>\n    </div> )|| (\n        Auth=='loading' && <div>Waiting...</div>\n    )\n}\n\nexport default UserDetailsPage;","import { useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\"\nimport { selectAuthStatus } from \"../features/user/userSlice\";\nconst EditUser = () => {\n    let Auth = useSelector(selectAuthStatus);\n    const nav = useNavigate();\n    const url = `/user/edit`;\n    const handleClick = ()=>{\n        nav(url);\n    }\n    return (Auth=='success'&&<button type=\"button\" className=\"btn btn-success h-full w-full flex-fill m-0 p-1\" onClick={handleClick}>Edit User</button>)||(<></>)\n}\n\nexport default EditUser;","import { useDispatch, useSelector } from \"react-redux\";\nimport { deleteUser } from \"../features/user/userApi\";\nimport { useEffect, useState } from \"react\";\nimport { checkAuth, logoutUser, selectAuth, selectAuthStatus,selectUser,selectUserReload,setUserReload, unmountDelete } from \"../features/user/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst DeleteUser = ({pid}) => {\n    let Auth = useSelector(selectAuthStatus);\n    let dispatch = useDispatch();\n    let nav = useNavigate();\n    let user = useSelector(selectUser);\n    let config = useSelector(selectAuth);\n    let [status,setStatus] = useState('idle');\n    let statusMap = {\n        idle:\"Delete\",\n        loading:\"Deleting\",\n        success:\"Deleted\",\n        failed:\"Try Again\"\n    };\n    let reload = useSelector(selectUserReload);\n    let [refresh,setRefresh] = useState(null);\n\n\n    useEffect(()=>{\n        refresh = reload;\n        if(Auth=='idle'||!user)dispatch(checkAuth());\n    },[]);\n\n\n    useEffect(()=>{\n        if(reload!=refresh){setRefresh(reload);setStatus('idle')};\n        if(status=='success')return ()=>dispatch(unmountDelete());\n    },[reload,refresh,setStatus,setRefresh,status,dispatch,unmountDelete]);\n   \n    useEffect(()=>{\n        if(status=='success'){dispatch(logoutUser());nav('/home');}\n        if(status=='success')return ()=>dispatch(unmountDelete());\n    },[status,dispatch,logoutUser,nav,unmountDelete]);\n\n\n    const handleDelete = (e)=>{\n        setStatus('loading');\n        deleteUser(config).then((res)=>{\n            if(res.status >=200 && res.status<300) setStatus('success');\n        }).catch((e)=>{setStatus('failed')});\n    }\n    return (Auth=='success' && <button type=\"button\" className=\"btn btn-danger h-full w-full flex-fill m-0 p-1\" disabled={status=='loading' || status == 'success' || Auth!='success'} onClick={(e)=>handleDelete(e)}>{statusMap[status]}</button>)||(<></>);\n}\n\nexport default DeleteUser;"],"sourceRoot":""}